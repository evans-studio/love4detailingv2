
> love4detailing-v2@0.1.0 dev
> next dev

   ▲ Next.js 14.1.0
   - Local:        http://localhost:3000
   - Environments: .env.local, .env

 ✓ Ready in 1192ms
 ✓ Compiled /api/bookings/enhanced/create in 454ms (146 modules)
🚀 Booking creation API called
(node:44346) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
📝 Request body: {
  "bookingData": {
    "customer_email": "test@example.com",
    "customer_name": "Test User",
    "customer_phone": "07123456789",
    "slot_id": "test-slot-id",
    "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "vehicle_size": "medium",
    "service_address": "123 Test Street, London",
    "vehicle_registration": "TE5T123",
    "vehicle_make": "BMW",
    "vehicle_model": "3 Series",
    "vehicle_year": 2020,
    "vehicle_color": "Black",
    "vehicle_type": "car",
    "payment_method": "cash"
  }
}
📋 Booking data received: {
  "customer_email": "test@example.com",
  "customer_name": "Test User",
  "customer_phone": "07123456789",
  "slot_id": "test-slot-id",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "vehicle_size": "medium",
  "service_address": "123 Test Street, London",
  "vehicle_registration": "TE5T123",
  "vehicle_make": "BMW",
  "vehicle_model": "3 Series",
  "vehicle_year": 2020,
  "vehicle_color": "Black",
  "vehicle_type": "car",
  "payment_method": "cash"
}
🔍 Detailed vehicle data inspection: {
  'bookingData.vehicle_registration': 'TE5T123',
  'bookingData.vehicle_make': 'BMW',
  'bookingData.vehicle_model': '3 Series',
  'typeof vehicle_registration': 'string',
  'typeof vehicle_make': 'string',
  'typeof vehicle_model': 'string',
  'vehicle_registration length': 7,
  'vehicle_make length': 3,
  'vehicle_model length': 8
}
✅ All required fields present
🔐 Getting user session...
⚠️  User session error: AuthSessionMissingError: Auth session missing!
    at /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1049:59
    at SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:26)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🔑 Creating service role client...
🔍 Account creation decision analysis:
   Current user session: No user session
   Booking email: test@example.com
   Emails match: N/A
   isBookingForCurrentUser: null
   Will create account: true
👥 Creating guest/new customer booking
🔄 Attempting stored procedure booking creation...
🔄 Stored procedure intentionally disabled - using fallback for vehicle creation
❌ Stored procedure error: {
  message: 'Stored procedure disabled - using fallback with vehicle creation'
}
🔄 Using fallback direct booking creation
🔍 Testing database connection...
✅ Database connection test passed
📋 Generated booking reference: L4D798063425LRK (15 chars)
🚗 Available vehicle data: {
  vehicle_registration: 'TE5T123',
  vehicle_make: 'BMW',
  vehicle_model: '3 Series',
  vehicle_year: 2020,
  vehicle_color: 'Black',
  vehicle_size: 'medium',
  vehicle_type: 'car',
  vehicle_special_requirements: undefined,
  user_id: null
}
🚗 Vehicle creation condition check: {
  hasRegistration: true,
  hasMake: true,
  hasModel: true,
  registrationValue: 'TE5T123',
  makeValue: 'BMW',
  modelValue: '3 Series',
  conditionMet: true
}
🚗 Creating vehicle before booking...
🔄 Creating new vehicle record...
❌ Failed to create vehicle: {
  code: 'PGRST204',
  details: null,
  hint: null,
  message: "Could not find the 'special_requirements' column of 'vehicles' in the schema cache"
}
Vehicle create error details: {
  "code": "PGRST204",
  "details": null,
  "hint": null,
  "message": "Could not find the 'special_requirements' column of 'vehicles' in the schema cache"
}
💾 Creating booking record with vehicle_id: null
💾 Full booking record: {
  "user_id": null,
  "vehicle_id": null,
  "slot_id": "test-slot-id",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "booking_reference": "L4D798063425LRK",
  "customer_name": "Test User",
  "customer_email": "test@example.com",
  "customer_phone": "07123456789",
  "service_location": "123 Test Street, London",
  "notes": "",
  "customer_instructions": "",
  "payment_method": "cash",
  "status": "confirmed",
  "service_price_pence": 6000,
  "total_price_pence": 6000,
  "created_at": "2025-07-13T04:10:06.518Z",
  "updated_at": "2025-07-13T04:10:06.518Z"
}
❌ Direct booking creation failed: {
  code: '22P02',
  details: null,
  hint: null,
  message: 'invalid input syntax for type uuid: "test-slot-id"'
}
 ✓ Compiled /api/auth/login in 169ms (148 modules)
 ✓ Compiled /api/auth/profile in 41ms (150 modules)
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
 ✓ Compiled /api/user/statistics in 30ms (152 modules)
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User statistics calculated successfully
 ○ Compiling /dashboard/vehicles ...
 ✓ Compiled /dashboard/vehicles in 2.4s (1190 modules)
 ✓ Compiled in 317ms (522 modules)
 ✓ Compiled /api/vehicles in 317ms (1169 modules)
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User statistics calculated successfully
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 User statistics API called
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User statistics calculated successfully
✅ User statistics calculated successfully
✅ User statistics calculated successfully
🚀 Booking creation API called
📝 Request body: {
  "bookingData": {
    "customer_email": "test-vehicle@example.com",
    "customer_name": "Test Vehicle User",
    "customer_phone": "07123456789",
    "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
    "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "vehicle_size": "medium",
    "service_address": "123 Test Street, London",
    "vehicle_registration": "TE5T123",
    "vehicle_make": "BMW",
    "vehicle_model": "3 Series",
    "vehicle_year": 2020,
    "vehicle_color": "Black",
    "vehicle_type": "car",
    "payment_method": "cash"
  }
}
📋 Booking data received: {
  "customer_email": "test-vehicle@example.com",
  "customer_name": "Test Vehicle User",
  "customer_phone": "07123456789",
  "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "vehicle_size": "medium",
  "service_address": "123 Test Street, London",
  "vehicle_registration": "TE5T123",
  "vehicle_make": "BMW",
  "vehicle_model": "3 Series",
  "vehicle_year": 2020,
  "vehicle_color": "Black",
  "vehicle_type": "car",
  "payment_method": "cash"
}
🔍 Detailed vehicle data inspection: {
  'bookingData.vehicle_registration': 'TE5T123',
  'bookingData.vehicle_make': 'BMW',
  'bookingData.vehicle_model': '3 Series',
  'typeof vehicle_registration': 'string',
  'typeof vehicle_make': 'string',
  'typeof vehicle_model': 'string',
  'vehicle_registration length': 7,
  'vehicle_make length': 3,
  'vehicle_model length': 8
}
✅ All required fields present
🔐 Getting user session...
⚠️  User session error: AuthSessionMissingError: Auth session missing!
    at /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1049:59
    at SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:26)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🔑 Creating service role client...
🔍 Account creation decision analysis:
   Current user session: No user session
   Booking email: test-vehicle@example.com
   Emails match: N/A
   isBookingForCurrentUser: null
   Will create account: true
👥 Creating guest/new customer booking
🔄 Attempting stored procedure booking creation...
🔄 Stored procedure intentionally disabled - using fallback for vehicle creation
❌ Stored procedure error: {
  message: 'Stored procedure disabled - using fallback with vehicle creation'
}
🔄 Using fallback direct booking creation
🔍 Testing database connection...
✅ Database connection test passed
📋 Generated booking reference: L4D7983087652AK (15 chars)
🚗 Available vehicle data: {
  vehicle_registration: 'TE5T123',
  vehicle_make: 'BMW',
  vehicle_model: '3 Series',
  vehicle_year: 2020,
  vehicle_color: 'Black',
  vehicle_size: 'medium',
  vehicle_type: 'car',
  vehicle_special_requirements: undefined,
  user_id: null
}
🚗 Vehicle creation condition check: {
  hasRegistration: true,
  hasMake: true,
  hasModel: true,
  registrationValue: 'TE5T123',
  makeValue: 'BMW',
  modelValue: '3 Series',
  conditionMet: true
}
🚗 Creating vehicle before booking...
🔄 Creating new vehicle record...
❌ Failed to create vehicle: {
  code: 'PGRST204',
  details: null,
  hint: null,
  message: "Could not find the 'special_requirements' column of 'vehicles' in the schema cache"
}
Vehicle create error details: {
  "code": "PGRST204",
  "details": null,
  "hint": null,
  "message": "Could not find the 'special_requirements' column of 'vehicles' in the schema cache"
}
💾 Creating booking record with vehicle_id: null
💾 Full booking record: {
  "user_id": null,
  "vehicle_id": null,
  "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "booking_reference": "L4D7983087652AK",
  "customer_name": "Test Vehicle User",
  "customer_email": "test-vehicle@example.com",
  "customer_phone": "07123456789",
  "service_location": "123 Test Street, London",
  "notes": "",
  "customer_instructions": "",
  "payment_method": "cash",
  "status": "confirmed",
  "service_price_pence": 6000,
  "total_price_pence": 6000,
  "created_at": "2025-07-13T04:10:31.000Z",
  "updated_at": "2025-07-13T04:10:31.000Z"
}
✅ Booking created successfully: {
  id: 'fcf7408a-a1ea-4972-9ec1-8784167bf522',
  booking_reference: 'L4D7983087652AK',
  user_id: null,
  customer_email: 'test-vehicle@example.com',
  customer_name: 'Test Vehicle User',
  customer_phone: '07123456789',
  vehicle_id: null,
  service_id: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  slot_id: '2cbf2a78-18a7-4e32-bf2b-350733814e30',
  status: 'confirmed',
  payment_status: 'pending',
  payment_method: 'cash',
  service_price_pence: 6000,
  discount_pence: 0,
  total_price_pence: 6000,
  confirmed_at: null,
  completed_at: null,
  cancelled_at: null,
  cancellation_reason: null,
  notes: '',
  created_at: '2025-07-13T04:10:31+00:00',
  updated_at: '2025-07-13T04:10:31+00:00',
  customer_instructions: '',
  service_location: '123 Test Street, London',
  original_slot_id: null,
  current_slot_id: null,
  booking_history: [],
  reschedule_count: 0,
  last_status_change: '2025-07-13T04:10:31.031505+00:00',
  status_change_reason: null,
  created_from_reschedule: false
}
🔍 Final account creation check:
   isBookingForCurrentUser: null
   customer_email: test-vehicle@example.com
   condition (!isBookingForCurrentUser && bookingData.customer_email): test-vehicle@example.com
👤 Creating account for new customer: test-vehicle@example.com
👤 Account creation conditions met: {
  isBookingForCurrentUser: null,
  hasEmail: true,
  email: 'test-vehicle@example.com'
}
🔍 Checking if user already exists...
🔐 Using REST API to create user...
✅ User created via REST API: b3e99a82-0083-439b-9b33-fad236ba692d
✅ Created user details: {
  id: 'b3e99a82-0083-439b-9b33-fad236ba692d',
  aud: 'authenticated',
  role: 'authenticated',
  email: 'test-vehicle@example.com',
  email_confirmed_at: '2025-07-13T04:10:31.239731369Z',
  phone: '',
  app_metadata: { provider: 'email', providers: [ 'email' ] },
  user_metadata: {
    created_via: 'booking_system',
    email_verified: true,
    name: 'Test Vehicle User',
    phone: '07123456789'
  },
  identities: [
    {
      identity_id: 'd6bb6701-ba20-492a-9a6b-551c7e5d0bda',
      id: 'b3e99a82-0083-439b-9b33-fad236ba692d',
      user_id: 'b3e99a82-0083-439b-9b33-fad236ba692d',
      identity_data: [Object],
      provider: 'email',
      last_sign_in_at: '2025-07-13T04:10:31.234516054Z',
      created_at: '2025-07-13T04:10:31.234569Z',
      updated_at: '2025-07-13T04:10:31.234569Z',
      email: 'test-vehicle@example.com'
    }
  ],
  created_at: '2025-07-13T04:10:31.228607Z',
  updated_at: '2025-07-13T04:10:31.240587Z',
  is_anonymous: false
}
✅ Auth user created: b3e99a82-0083-439b-9b33-fad236ba692d
📋 Creating user profile in public.users table...
❌ User profile creation failed: {
  code: '23505',
  details: 'Key (id)=(b3e99a82-0083-439b-9b33-fad236ba692d) already exists.',
  hint: null,
  message: 'duplicate key value violates unique constraint "users_pkey"'
}
❌ Profile error details: {
  "code": "23505",
  "details": "Key (id)=(b3e99a82-0083-439b-9b33-fad236ba692d) already exists.",
  "hint": null,
  "message": "duplicate key value violates unique constraint \"users_pkey\""
}
✅ Vehicle creation completed earlier - vehicle_id: null

💰 REWARDING POINTS FOR BOOKING
------------------------------
🎁 Awarding reward points for booking completion
💰 Points calculation:
   - Service price: £60
   - Points from spending: 60
   - Completion bonus: 50
   - Total points to award: 110
✅ Reward transaction created successfully
✅ Reward points awarded successfully

🎉 Booking creation completed successfully
📊 Final response data: {
  "booking_id": "fcf7408a-a1ea-4972-9ec1-8784167bf522",
  "booking_reference": "L4D7983087652AK",
  "status": "confirmed",
  "message": "Booking created and auth account set up (profile creation failed) and 110 reward points awarded",
  "account_created": true,
  "user_id": "b3e99a82-0083-439b-9b33-fad236ba692d",
  "points_awarded": 110,
  "new_tier": "bronze"
}
 ✓ Compiled /booking in 269ms (1230 modules)
 ✓ Compiled /api/user/profile in 52ms (695 modules)
 ✓ Compiled (699 modules)
🔍 Admin services API called
🔍 Admin services API called
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: 'medium',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&vehicle_size=medium'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: 'medium',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&vehicle_size=medium'
}
🔍 User profile API called
🔍 User profile API called
✅ Found 3 services
✅ Found 3 services
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'medium',
  serviceId: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  originalVehicleSize: 'medium',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&service_id=6856143e-eb1d-4776-bf6b-3f6149f36901&vehicle_size=medium'
}
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Querying user profile...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Querying user profile...
✅ Profile data fetched for user: d.dimpauls@gmail.com
✅ Profile data fetched for user: d.dimpauls@gmail.com
✅ Profile data transformed successfully
✅ Successfully fetched user profile with statistics
✅ Profile data transformed successfully
✅ Successfully fetched user profile with statistics
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'extra_large',
  serviceId: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  originalVehicleSize: 'extra_large',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&service_id=6856143e-eb1d-4776-bf6b-3f6149f36901&vehicle_size=extra_large'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-06-30',
  endDate: '2025-07-30',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-06-30&date_end=2025-07-30&limit=200'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-06-30',
  endDate: '2025-07-30',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-06-30&date_end=2025-07-30&limit=200'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-22',
  endDate: '2025-07-22',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-22&date_end=2025-07-22'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'large',
  serviceId: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  originalVehicleSize: 'large',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&service_id=6856143e-eb1d-4776-bf6b-3f6149f36901&vehicle_size=large'
}
 ✓ Compiled /api/postcode-distance in 77ms (701 modules)
 ✓ Compiled /api/rewards/discount in 72ms (703 modules)
💰 Discount calculation API called
✅ Discount calculated successfully
🚀 Booking creation API called
📝 Request body: {
  "bookingData": {
    "customer_email": "d.dimpauls@gmail.com",
    "customer_name": "Paul Evans",
    "customer_phone": "07512647532",
    "slot_id": "59637dfe-607d-4831-8e58-0b8dfb175877",
    "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "vehicle_size": "large",
    "service_address": "188 Bristol Road",
    "service_postcode": "",
    "travel_charge_pence": 0,
    "special_instructions": "",
    "vehicle_registration": "BD24NHK",
    "vehicle_make": "Audi",
    "vehicle_model": "SQ5",
    "vehicle_year": 2025,
    "vehicle_color": "",
    "vehicle_type": "car",
    "vehicle_special_requirements": "",
    "payment_method": "cash",
    "booking_source": "web",
    "created_via": "customer_booking_flow"
  }
}
📋 Booking data received: {
  "customer_email": "d.dimpauls@gmail.com",
  "customer_name": "Paul Evans",
  "customer_phone": "07512647532",
  "slot_id": "59637dfe-607d-4831-8e58-0b8dfb175877",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "vehicle_size": "large",
  "service_address": "188 Bristol Road",
  "service_postcode": "",
  "travel_charge_pence": 0,
  "special_instructions": "",
  "vehicle_registration": "BD24NHK",
  "vehicle_make": "Audi",
  "vehicle_model": "SQ5",
  "vehicle_year": 2025,
  "vehicle_color": "",
  "vehicle_type": "car",
  "vehicle_special_requirements": "",
  "payment_method": "cash",
  "booking_source": "web",
  "created_via": "customer_booking_flow"
}
🔍 Detailed vehicle data inspection: {
  'bookingData.vehicle_registration': 'BD24NHK',
  'bookingData.vehicle_make': 'Audi',
  'bookingData.vehicle_model': 'SQ5',
  'typeof vehicle_registration': 'string',
  'typeof vehicle_make': 'string',
  'typeof vehicle_model': 'string',
  'vehicle_registration length': 7,
  'vehicle_make length': 4,
  'vehicle_model length': 3
}
✅ All required fields present
🔐 Getting user session...
👤 Current user: d.dimpauls@gmail.com (5288a9a7-b617-44d3-ac4b-69e88b5aff35)
🔑 Creating service role client...
🔍 Account creation decision analysis:
   Current user session: d.dimpauls@gmail.com (5288a9a7-b617-44d3-ac4b-69e88b5aff35)
   Booking email: d.dimpauls@gmail.com
   Emails match: true
   isBookingForCurrentUser: true
   Will create account: false
🔗 Linking booking to current user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔄 Attempting stored procedure booking creation...
🔄 Stored procedure intentionally disabled - using fallback for vehicle creation
❌ Stored procedure error: {
  message: 'Stored procedure disabled - using fallback with vehicle creation'
}
🔄 Using fallback direct booking creation
🔍 Testing database connection...
✅ Database connection test passed
📋 Generated booking reference: L4D79869719V5YZ (15 chars)
🚗 Available vehicle data: {
  vehicle_registration: 'BD24NHK',
  vehicle_make: 'Audi',
  vehicle_model: 'SQ5',
  vehicle_year: 2025,
  vehicle_color: '',
  vehicle_size: 'large',
  vehicle_type: 'car',
  vehicle_special_requirements: '',
  user_id: '5288a9a7-b617-44d3-ac4b-69e88b5aff35'
}
🚗 Vehicle creation condition check: {
  hasRegistration: true,
  hasMake: true,
  hasModel: true,
  registrationValue: 'BD24NHK',
  makeValue: 'Audi',
  modelValue: 'SQ5',
  conditionMet: true
}
🚗 Creating vehicle before booking...
🔄 Creating new vehicle record...
❌ Failed to create vehicle: {
  code: 'PGRST204',
  details: null,
  hint: null,
  message: "Could not find the 'special_requirements' column of 'vehicles' in the schema cache"
}
Vehicle create error details: {
  "code": "PGRST204",
  "details": null,
  "hint": null,
  "message": "Could not find the 'special_requirements' column of 'vehicles' in the schema cache"
}
💾 Creating booking record with vehicle_id: null
💾 Full booking record: {
  "user_id": "5288a9a7-b617-44d3-ac4b-69e88b5aff35",
  "vehicle_id": null,
  "slot_id": "59637dfe-607d-4831-8e58-0b8dfb175877",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "booking_reference": "L4D79869719V5YZ",
  "customer_name": "Paul Evans",
  "customer_email": "d.dimpauls@gmail.com",
  "customer_phone": "07512647532",
  "service_location": "188 Bristol Road",
  "notes": "",
  "customer_instructions": "",
  "payment_method": "cash",
  "status": "confirmed",
  "service_price_pence": 7000,
  "total_price_pence": 7000,
  "created_at": "2025-07-13T04:11:09.866Z",
  "updated_at": "2025-07-13T04:11:09.866Z"
}
✅ Booking created successfully: {
  id: 'ad160f9d-971e-407f-a313-ede98e32fc18',
  booking_reference: 'L4D79869719V5YZ',
  user_id: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  customer_email: 'd.dimpauls@gmail.com',
  customer_name: 'Paul Evans',
  customer_phone: '07512647532',
  vehicle_id: null,
  service_id: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  slot_id: '59637dfe-607d-4831-8e58-0b8dfb175877',
  status: 'confirmed',
  payment_status: 'pending',
  payment_method: 'cash',
  service_price_pence: 7000,
  discount_pence: 0,
  total_price_pence: 7000,
  confirmed_at: null,
  completed_at: null,
  cancelled_at: null,
  cancellation_reason: null,
  notes: '',
  created_at: '2025-07-13T04:11:09.866+00:00',
  updated_at: '2025-07-13T04:11:09.866+00:00',
  customer_instructions: '',
  service_location: '188 Bristol Road',
  original_slot_id: null,
  current_slot_id: null,
  booking_history: [],
  reschedule_count: 0,
  last_status_change: '2025-07-13T04:11:09.899658+00:00',
  status_change_reason: null,
  created_from_reschedule: false
}
🔍 Final account creation check:
   isBookingForCurrentUser: true
   customer_email: d.dimpauls@gmail.com
   condition (!isBookingForCurrentUser && bookingData.customer_email): false
❌ Account creation skipped - conditions not met
❌ Debug values: {
  isBookingForCurrentUser: true,
  hasEmail: true,
  email: 'd.dimpauls@gmail.com',
  conditionMet: false
}
✅ Vehicle creation completed earlier - vehicle_id: null

💰 REWARDING POINTS FOR BOOKING
------------------------------
🎁 Awarding reward points for booking completion
💰 Points calculation:
   - Service price: £70
   - Points from spending: 70
   - Completion bonus: 50
   - Total points to award: 120
✅ Reward transaction created successfully
✅ Reward points awarded successfully

🎉 Booking creation completed successfully
📊 Final response data: {
  "booking_id": "ad160f9d-971e-407f-a313-ede98e32fc18",
  "booking_reference": "L4D79869719V5YZ",
  "status": "confirmed",
  "message": "Booking created successfully and 120 reward points awarded",
  "points_awarded": 120,
  "new_tier": "silver"
}
 ✓ Compiled /dashboard in 270ms (1252 modules)
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User statistics calculated successfully
 ✓ Compiled /api/user/bookings in 80ms (712 modules)
🔍 User bookings API called
🔍 User bookings API called
🔍 User bookings API called
🔍 User bookings API called
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
🔍 User statistics API called
📊 Found 3 bookings for user
✅ Transformed 3 bookings for frontend
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
📊 Found 4 bookings for user
✅ Transformed 4 bookings for frontend
📊 Found 3 bookings for user
✅ Transformed 3 bookings for frontend
📊 Found 4 bookings for user
✅ Transformed 4 bookings for frontend
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 3,
  totalCount: 4
}
🔍 User statistics API called
🔍 User statistics API called
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 4,
  totalCount: 4
}
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 4,
  totalCount: 4
}
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 3,
  totalCount: 4
}
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User statistics calculated successfully
✅ User statistics calculated successfully
✅ User statistics calculated successfully
 ✓ Compiled /dashboard/bookings in 363ms (1274 modules)
🔍 User bookings API called
🔍 User bookings API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
📊 Found 4 bookings for user
✅ Transformed 4 bookings for frontend
📊 Found 4 bookings for user
✅ Transformed 4 bookings for frontend
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 4,
  totalCount: 4
}
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 4,
  totalCount: 4
}
 ✓ Compiled in 273ms (1288 modules)
🚀 Booking creation API called
📝 Request body: {
  "bookingData": {
    "customer_email": "test-vehicle-fix@example.com",
    "customer_name": "Test Vehicle Fix User",
    "customer_phone": "07123456789",
    "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
    "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "vehicle_size": "medium",
    "service_address": "123 Test Street, London",
    "vehicle_registration": "FIX123",
    "vehicle_make": "BMW",
    "vehicle_model": "X5",
    "vehicle_year": 2021,
    "vehicle_color": "White",
    "vehicle_type": "car",
    "payment_method": "cash"
  }
}
📋 Booking data received: {
  "customer_email": "test-vehicle-fix@example.com",
  "customer_name": "Test Vehicle Fix User",
  "customer_phone": "07123456789",
  "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "vehicle_size": "medium",
  "service_address": "123 Test Street, London",
  "vehicle_registration": "FIX123",
  "vehicle_make": "BMW",
  "vehicle_model": "X5",
  "vehicle_year": 2021,
  "vehicle_color": "White",
  "vehicle_type": "car",
  "payment_method": "cash"
}
🔍 Detailed vehicle data inspection: {
  'bookingData.vehicle_registration': 'FIX123',
  'bookingData.vehicle_make': 'BMW',
  'bookingData.vehicle_model': 'X5',
  'typeof vehicle_registration': 'string',
  'typeof vehicle_make': 'string',
  'typeof vehicle_model': 'string',
  'vehicle_registration length': 6,
  'vehicle_make length': 3,
  'vehicle_model length': 2
}
✅ All required fields present
🔐 Getting user session...
⚠️  User session error: AuthSessionMissingError: Auth session missing!
    at /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1049:59
    at SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:26)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🔑 Creating service role client...
🔍 Account creation decision analysis:
   Current user session: No user session
   Booking email: test-vehicle-fix@example.com
   Emails match: N/A
   isBookingForCurrentUser: null
   Will create account: true
👥 Creating guest/new customer booking
🔄 Attempting stored procedure booking creation...
🔄 Stored procedure intentionally disabled - using fallback for vehicle creation
❌ Stored procedure error: {
  message: 'Stored procedure disabled - using fallback with vehicle creation'
}
🔄 Using fallback direct booking creation
🔍 Testing database connection...
✅ Database connection test passed
📋 Generated booking reference: L4D799798098T0I (15 chars)
🚗 Available vehicle data: {
  vehicle_registration: 'FIX123',
  vehicle_make: 'BMW',
  vehicle_model: 'X5',
  vehicle_year: 2021,
  vehicle_color: 'White',
  vehicle_size: 'medium',
  vehicle_type: 'car',
  vehicle_special_requirements: undefined,
  user_id: null
}
🚗 Vehicle creation condition check: {
  hasRegistration: true,
  hasMake: true,
  hasModel: true,
  registrationValue: 'FIX123',
  makeValue: 'BMW',
  modelValue: 'X5',
  conditionMet: true
}
🚗 Creating vehicle before booking...
🔄 Creating new vehicle record...
❌ Failed to create vehicle: {
  code: '22P02',
  details: null,
  hint: null,
  message: 'invalid input syntax for type uuid: "temp-user-1752379979809"'
}
Vehicle create error details: {
  "code": "22P02",
  "details": null,
  "hint": null,
  "message": "invalid input syntax for type uuid: \"temp-user-1752379979809\""
}
💾 Creating booking record with vehicle_id: null
💾 Full booking record: {
  "user_id": null,
  "vehicle_id": null,
  "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "booking_reference": "L4D799798098T0I",
  "customer_name": "Test Vehicle Fix User",
  "customer_email": "test-vehicle-fix@example.com",
  "customer_phone": "07123456789",
  "service_location": "123 Test Street, London",
  "notes": "",
  "customer_instructions": "",
  "payment_method": "cash",
  "status": "confirmed",
  "service_price_pence": 6000,
  "total_price_pence": 6000,
  "created_at": "2025-07-13T04:12:59.981Z",
  "updated_at": "2025-07-13T04:12:59.981Z"
}
✅ Booking created successfully: {
  id: '009d06db-1fb7-4c74-bf15-f5538ad2b9ec',
  booking_reference: 'L4D799798098T0I',
  user_id: null,
  customer_email: 'test-vehicle-fix@example.com',
  customer_name: 'Test Vehicle Fix User',
  customer_phone: '07123456789',
  vehicle_id: null,
  service_id: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  slot_id: '2cbf2a78-18a7-4e32-bf2b-350733814e30',
  status: 'confirmed',
  payment_status: 'pending',
  payment_method: 'cash',
  service_price_pence: 6000,
  discount_pence: 0,
  total_price_pence: 6000,
  confirmed_at: null,
  completed_at: null,
  cancelled_at: null,
  cancellation_reason: null,
  notes: '',
  created_at: '2025-07-13T04:12:59.981+00:00',
  updated_at: '2025-07-13T04:12:59.981+00:00',
  customer_instructions: '',
  service_location: '123 Test Street, London',
  original_slot_id: null,
  current_slot_id: null,
  booking_history: [],
  reschedule_count: 0,
  last_status_change: '2025-07-13T04:13:00.018498+00:00',
  status_change_reason: null,
  created_from_reschedule: false
}
🔍 Final account creation check:
   isBookingForCurrentUser: null
   customer_email: test-vehicle-fix@example.com
   condition (!isBookingForCurrentUser && bookingData.customer_email): test-vehicle-fix@example.com
👤 Creating account for new customer: test-vehicle-fix@example.com
👤 Account creation conditions met: {
  isBookingForCurrentUser: null,
  hasEmail: true,
  email: 'test-vehicle-fix@example.com'
}
🔍 Checking if user already exists...
🔐 Using REST API to create user...
✅ User created via REST API: a971b113-ea39-4de4-a2f6-7a71c347c798
✅ Created user details: {
  id: 'a971b113-ea39-4de4-a2f6-7a71c347c798',
  aud: 'authenticated',
  role: 'authenticated',
  email: 'test-vehicle-fix@example.com',
  email_confirmed_at: '2025-07-13T04:13:00.267241147Z',
  phone: '',
  app_metadata: { provider: 'email', providers: [ 'email' ] },
  user_metadata: {
    created_via: 'booking_system',
    email_verified: true,
    name: 'Test Vehicle Fix User',
    phone: '07123456789'
  },
  identities: [
    {
      identity_id: 'dad9520a-39af-499c-88e5-019bea0d8910',
      id: 'a971b113-ea39-4de4-a2f6-7a71c347c798',
      user_id: 'a971b113-ea39-4de4-a2f6-7a71c347c798',
      identity_data: [Object],
      provider: 'email',
      last_sign_in_at: '2025-07-13T04:13:00.262480534Z',
      created_at: '2025-07-13T04:13:00.262533Z',
      updated_at: '2025-07-13T04:13:00.262533Z',
      email: 'test-vehicle-fix@example.com'
    }
  ],
  created_at: '2025-07-13T04:13:00.256821Z',
  updated_at: '2025-07-13T04:13:00.269967Z',
  is_anonymous: false
}
✅ Auth user created: a971b113-ea39-4de4-a2f6-7a71c347c798
📋 Creating user profile in public.users table...
❌ User profile creation failed: {
  code: '23505',
  details: 'Key (id)=(a971b113-ea39-4de4-a2f6-7a71c347c798) already exists.',
  hint: null,
  message: 'duplicate key value violates unique constraint "users_pkey"'
}
❌ Profile error details: {
  "code": "23505",
  "details": "Key (id)=(a971b113-ea39-4de4-a2f6-7a71c347c798) already exists.",
  "hint": null,
  "message": "duplicate key value violates unique constraint \"users_pkey\""
}
✅ Vehicle creation completed earlier - vehicle_id: null

💰 REWARDING POINTS FOR BOOKING
------------------------------
🎁 Awarding reward points for booking completion
💰 Points calculation:
   - Service price: £60
   - Points from spending: 60
   - Completion bonus: 50
   - Total points to award: 110
✅ Reward transaction created successfully
✅ Reward points awarded successfully

🎉 Booking creation completed successfully
📊 Final response data: {
  "booking_id": "009d06db-1fb7-4c74-bf15-f5538ad2b9ec",
  "booking_reference": "L4D799798098T0I",
  "status": "confirmed",
  "message": "Booking created and auth account set up (profile creation failed) and 110 reward points awarded",
  "account_created": true,
  "user_id": "a971b113-ea39-4de4-a2f6-7a71c347c798",
  "points_awarded": 110,
  "new_tier": "bronze"
}
 ✓ Compiled in 267ms (1261 modules)
 ✓ Compiled in 182ms (1261 modules)
 ✓ Compiled /api/bookings/available-slots in 93ms (698 modules)
 ✓ Compiled (702 modules)
🔍 Admin services API called
🔍 Admin services API called
🔍 User profile API called
🔍 User profile API called
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: 'medium',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&vehicle_size=medium'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: 'medium',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&vehicle_size=medium'
}
✅ Found 3 services
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Querying user profile...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Querying user profile...
✅ Found 3 services
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'medium',
  serviceId: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  originalVehicleSize: 'medium',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&service_id=6856143e-eb1d-4776-bf6b-3f6149f36901&vehicle_size=medium'
}
✅ Profile data fetched for user: d.dimpauls@gmail.com
✅ Profile data fetched for user: d.dimpauls@gmail.com
✅ Profile data transformed successfully
✅ Successfully fetched user profile with statistics
✅ Profile data transformed successfully
✅ Successfully fetched user profile with statistics
 ✓ Compiled /api/vehicles in 96ms (704 modules)
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'extra_large',
  serviceId: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  originalVehicleSize: 'extra_large',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&service_id=6856143e-eb1d-4776-bf6b-3f6149f36901&vehicle_size=extra_large'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-06-30',
  endDate: '2025-07-30',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-06-30&date_end=2025-07-30&limit=200'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-06-30',
  endDate: '2025-07-30',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-06-30&date_end=2025-07-30&limit=200'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-23',
  endDate: '2025-07-23',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-23&date_end=2025-07-23'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'large',
  serviceId: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  originalVehicleSize: 'large',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&service_id=6856143e-eb1d-4776-bf6b-3f6149f36901&vehicle_size=large'
}
 ✓ Compiled /api/postcode-distance in 59ms (706 modules)
 ✓ Compiled /api/rewards/discount in 55ms (708 modules)
💰 Discount calculation API called
✅ Discount calculated successfully
🚀 Booking creation API called
📝 Request body: {
  "bookingData": {
    "customer_email": "d.dimpauls@gmail.com",
    "customer_name": "Paul Evans",
    "customer_phone": "07512647532",
    "slot_id": "86d4e268-5897-4147-ba77-9dec1d4d3213",
    "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "vehicle_size": "large",
    "service_address": "188 Bristol Road",
    "service_postcode": "",
    "travel_charge_pence": 0,
    "special_instructions": "",
    "vehicle_registration": "BD24NHU",
    "vehicle_make": "Audi",
    "vehicle_model": "Q6 e-tron",
    "vehicle_year": 2025,
    "vehicle_color": "",
    "vehicle_type": "car",
    "vehicle_special_requirements": "",
    "payment_method": "cash",
    "booking_source": "web",
    "created_via": "customer_booking_flow"
  }
}
📋 Booking data received: {
  "customer_email": "d.dimpauls@gmail.com",
  "customer_name": "Paul Evans",
  "customer_phone": "07512647532",
  "slot_id": "86d4e268-5897-4147-ba77-9dec1d4d3213",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "vehicle_size": "large",
  "service_address": "188 Bristol Road",
  "service_postcode": "",
  "travel_charge_pence": 0,
  "special_instructions": "",
  "vehicle_registration": "BD24NHU",
  "vehicle_make": "Audi",
  "vehicle_model": "Q6 e-tron",
  "vehicle_year": 2025,
  "vehicle_color": "",
  "vehicle_type": "car",
  "vehicle_special_requirements": "",
  "payment_method": "cash",
  "booking_source": "web",
  "created_via": "customer_booking_flow"
}
🔍 Detailed vehicle data inspection: {
  'bookingData.vehicle_registration': 'BD24NHU',
  'bookingData.vehicle_make': 'Audi',
  'bookingData.vehicle_model': 'Q6 e-tron',
  'typeof vehicle_registration': 'string',
  'typeof vehicle_make': 'string',
  'typeof vehicle_model': 'string',
  'vehicle_registration length': 7,
  'vehicle_make length': 4,
  'vehicle_model length': 9
}
✅ All required fields present
🔐 Getting user session...
👤 Current user: d.dimpauls@gmail.com (5288a9a7-b617-44d3-ac4b-69e88b5aff35)
🔑 Creating service role client...
🔍 Account creation decision analysis:
   Current user session: d.dimpauls@gmail.com (5288a9a7-b617-44d3-ac4b-69e88b5aff35)
   Booking email: d.dimpauls@gmail.com
   Emails match: true
   isBookingForCurrentUser: true
   Will create account: false
🔗 Linking booking to current user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔄 Attempting stored procedure booking creation...
🔄 Stored procedure intentionally disabled - using fallback for vehicle creation
❌ Stored procedure error: {
  message: 'Stored procedure disabled - using fallback with vehicle creation'
}
🔄 Using fallback direct booking creation
🔍 Testing database connection...
✅ Database connection test passed
📋 Generated booking reference: L4D80033050I45C (15 chars)
🚗 Available vehicle data: {
  vehicle_registration: 'BD24NHU',
  vehicle_make: 'Audi',
  vehicle_model: 'Q6 e-tron',
  vehicle_year: 2025,
  vehicle_color: '',
  vehicle_size: 'large',
  vehicle_type: 'car',
  vehicle_special_requirements: '',
  user_id: '5288a9a7-b617-44d3-ac4b-69e88b5aff35'
}
🚗 Vehicle creation condition check: {
  hasRegistration: true,
  hasMake: true,
  hasModel: true,
  registrationValue: 'BD24NHU',
  makeValue: 'Audi',
  modelValue: 'Q6 e-tron',
  conditionMet: true
}
🚗 Creating vehicle before booking...
🔄 Creating new vehicle record...
✅ Vehicle created successfully: 8136d0ff-1086-49ea-97c4-a5ab0af22f33
💾 Creating booking record with vehicle_id: 8136d0ff-1086-49ea-97c4-a5ab0af22f33
💾 Full booking record: {
  "user_id": "5288a9a7-b617-44d3-ac4b-69e88b5aff35",
  "vehicle_id": "8136d0ff-1086-49ea-97c4-a5ab0af22f33",
  "slot_id": "86d4e268-5897-4147-ba77-9dec1d4d3213",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "booking_reference": "L4D80033050I45C",
  "customer_name": "Paul Evans",
  "customer_email": "d.dimpauls@gmail.com",
  "customer_phone": "07512647532",
  "service_location": "188 Bristol Road",
  "notes": "",
  "customer_instructions": "",
  "payment_method": "cash",
  "status": "confirmed",
  "service_price_pence": 7000,
  "total_price_pence": 7000,
  "created_at": "2025-07-13T04:13:53.204Z",
  "updated_at": "2025-07-13T04:13:53.204Z"
}
✅ Booking created successfully: {
  id: '996757af-b404-4d9c-b9ca-49705662292b',
  booking_reference: 'L4D80033050I45C',
  user_id: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  customer_email: 'd.dimpauls@gmail.com',
  customer_name: 'Paul Evans',
  customer_phone: '07512647532',
  vehicle_id: '8136d0ff-1086-49ea-97c4-a5ab0af22f33',
  service_id: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  slot_id: '86d4e268-5897-4147-ba77-9dec1d4d3213',
  status: 'confirmed',
  payment_status: 'pending',
  payment_method: 'cash',
  service_price_pence: 7000,
  discount_pence: 0,
  total_price_pence: 7000,
  confirmed_at: null,
  completed_at: null,
  cancelled_at: null,
  cancellation_reason: null,
  notes: '',
  created_at: '2025-07-13T04:13:53.204+00:00',
  updated_at: '2025-07-13T04:13:53.204+00:00',
  customer_instructions: '',
  service_location: '188 Bristol Road',
  original_slot_id: null,
  current_slot_id: null,
  booking_history: [],
  reschedule_count: 0,
  last_status_change: '2025-07-13T04:13:53.236334+00:00',
  status_change_reason: null,
  created_from_reschedule: false
}
🔍 Final account creation check:
   isBookingForCurrentUser: true
   customer_email: d.dimpauls@gmail.com
   condition (!isBookingForCurrentUser && bookingData.customer_email): false
❌ Account creation skipped - conditions not met
❌ Debug values: {
  isBookingForCurrentUser: true,
  hasEmail: true,
  email: 'd.dimpauls@gmail.com',
  conditionMet: false
}
✅ Vehicle creation completed earlier - vehicle_id: 8136d0ff-1086-49ea-97c4-a5ab0af22f33

💰 REWARDING POINTS FOR BOOKING
------------------------------
🎁 Awarding reward points for booking completion
💰 Points calculation:
   - Service price: £70
   - Points from spending: 70
   - Completion bonus: 50
   - Total points to award: 120
✅ Reward transaction created successfully
✅ Reward points awarded successfully

🎉 Booking creation completed successfully
📊 Final response data: {
  "booking_id": "996757af-b404-4d9c-b9ca-49705662292b",
  "booking_reference": "L4D80033050I45C",
  "status": "confirmed",
  "message": "Booking created successfully and 120 reward points awarded",
  "points_awarded": 120,
  "new_tier": "silver"
}
 ✓ Compiled /dashboard in 192ms (715 modules)
 ✓ Compiled /api/auth/login in 56ms (717 modules)
 ✓ Compiled /api/auth/profile in 56ms (719 modules)
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
 ✓ Compiled /api/user/statistics in 54ms (721 modules)
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User statistics calculated successfully
 ✓ Compiled /api/user/bookings in 88ms (723 modules)
🔍 User bookings API called
🔍 User bookings API called
🔍 User bookings API called
🔍 User bookings API called
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
📊 Found 5 bookings for user
✅ Transformed 5 bookings for frontend
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
📊 Found 3 bookings for user
✅ Transformed 3 bookings for frontend
📊 Found 3 bookings for user
✅ Transformed 3 bookings for frontend
📊 Found 5 bookings for user
✅ Transformed 5 bookings for frontend
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 5,
  totalCount: 5
}
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 3,
  totalCount: 5
}
🔍 User statistics API called
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 3,
  totalCount: 5
}
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 5,
  totalCount: 5
}
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User statistics calculated successfully
✅ User statistics calculated successfully
✅ User statistics calculated successfully
🚀 Booking creation API called
📝 Request body: {
  "bookingData": {
    "customer_email": "test-vehicle-fix-final@example.com",
    "customer_name": "Test Final Fix",
    "customer_phone": "07123456789",
    "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
    "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "vehicle_size": "medium",
    "service_address": "123 Test Street, London",
    "vehicle_registration": "FINAL123",
    "vehicle_make": "Mercedes",
    "vehicle_model": "C-Class",
    "vehicle_year": 2022,
    "vehicle_color": "Silver",
    "payment_method": "cash"
  }
}
📋 Booking data received: {
  "customer_email": "test-vehicle-fix-final@example.com",
  "customer_name": "Test Final Fix",
  "customer_phone": "07123456789",
  "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "vehicle_size": "medium",
  "service_address": "123 Test Street, London",
  "vehicle_registration": "FINAL123",
  "vehicle_make": "Mercedes",
  "vehicle_model": "C-Class",
  "vehicle_year": 2022,
  "vehicle_color": "Silver",
  "payment_method": "cash"
}
🔍 Detailed vehicle data inspection: {
  'bookingData.vehicle_registration': 'FINAL123',
  'bookingData.vehicle_make': 'Mercedes',
  'bookingData.vehicle_model': 'C-Class',
  'typeof vehicle_registration': 'string',
  'typeof vehicle_make': 'string',
  'typeof vehicle_model': 'string',
  'vehicle_registration length': 8,
  'vehicle_make length': 8,
  'vehicle_model length': 7
}
✅ All required fields present
🔐 Getting user session...
⚠️  User session error: AuthSessionMissingError: Auth session missing!
    at /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1049:59
    at SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:26)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🔑 Creating service role client...
🔍 Account creation decision analysis:
   Current user session: No user session
   Booking email: test-vehicle-fix-final@example.com
   Emails match: N/A
   isBookingForCurrentUser: null
   Will create account: true
👥 Creating guest/new customer booking
🔄 Attempting stored procedure booking creation...
🔄 Stored procedure intentionally disabled - using fallback for vehicle creation
❌ Stored procedure error: {
  message: 'Stored procedure disabled - using fallback with vehicle creation'
}
🔄 Using fallback direct booking creation
🔍 Testing database connection...
✅ Database connection test passed
📋 Generated booking reference: L4D80045054BOIU (15 chars)
🚗 Available vehicle data: {
  vehicle_registration: 'FINAL123',
  vehicle_make: 'Mercedes',
  vehicle_model: 'C-Class',
  vehicle_year: 2022,
  vehicle_color: 'Silver',
  vehicle_size: 'medium',
  vehicle_type: undefined,
  vehicle_special_requirements: undefined,
  user_id: null
}
🚗 Vehicle creation condition check: {
  hasRegistration: true,
  hasMake: true,
  hasModel: true,
  registrationValue: 'FINAL123',
  makeValue: 'Mercedes',
  modelValue: 'C-Class',
  conditionMet: true
}
🚗 Creating vehicle before booking...
🔄 Creating new vehicle record...
✅ Vehicle created successfully: 23d90286-e9c3-4512-9ef5-26b95724e76a
💾 Creating booking record with vehicle_id: 23d90286-e9c3-4512-9ef5-26b95724e76a
💾 Full booking record: {
  "user_id": null,
  "vehicle_id": "23d90286-e9c3-4512-9ef5-26b95724e76a",
  "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "booking_reference": "L4D80045054BOIU",
  "customer_name": "Test Final Fix",
  "customer_email": "test-vehicle-fix-final@example.com",
  "customer_phone": "07123456789",
  "service_location": "123 Test Street, London",
  "notes": "",
  "customer_instructions": "",
  "payment_method": "cash",
  "status": "confirmed",
  "service_price_pence": 6000,
  "total_price_pence": 6000,
  "created_at": "2025-07-13T04:14:05.202Z",
  "updated_at": "2025-07-13T04:14:05.202Z"
}
✅ Booking created successfully: {
  id: '5bad94cc-edf7-459c-9671-9bb35a559fda',
  booking_reference: 'L4D80045054BOIU',
  user_id: null,
  customer_email: 'test-vehicle-fix-final@example.com',
  customer_name: 'Test Final Fix',
  customer_phone: '07123456789',
  vehicle_id: '23d90286-e9c3-4512-9ef5-26b95724e76a',
  service_id: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  slot_id: '2cbf2a78-18a7-4e32-bf2b-350733814e30',
  status: 'confirmed',
  payment_status: 'pending',
  payment_method: 'cash',
  service_price_pence: 6000,
  discount_pence: 0,
  total_price_pence: 6000,
  confirmed_at: null,
  completed_at: null,
  cancelled_at: null,
  cancellation_reason: null,
  notes: '',
  created_at: '2025-07-13T04:14:05.202+00:00',
  updated_at: '2025-07-13T04:14:05.202+00:00',
  customer_instructions: '',
  service_location: '123 Test Street, London',
  original_slot_id: null,
  current_slot_id: null,
  booking_history: [],
  reschedule_count: 0,
  last_status_change: '2025-07-13T04:14:05.235436+00:00',
  status_change_reason: null,
  created_from_reschedule: false
}
🔍 Final account creation check:
   isBookingForCurrentUser: null
   customer_email: test-vehicle-fix-final@example.com
   condition (!isBookingForCurrentUser && bookingData.customer_email): test-vehicle-fix-final@example.com
👤 Creating account for new customer: test-vehicle-fix-final@example.com
👤 Account creation conditions met: {
  isBookingForCurrentUser: null,
  hasEmail: true,
  email: 'test-vehicle-fix-final@example.com'
}
🔍 Checking if user already exists...
🔐 Using REST API to create user...
✅ User created via REST API: 8067a283-d4c2-4849-803b-615032a03be3
✅ Created user details: {
  id: '8067a283-d4c2-4849-803b-615032a03be3',
  aud: 'authenticated',
  role: 'authenticated',
  email: 'test-vehicle-fix-final@example.com',
  email_confirmed_at: '2025-07-13T04:14:05.478007702Z',
  phone: '',
  app_metadata: { provider: 'email', providers: [ 'email' ] },
  user_metadata: {
    created_via: 'booking_system',
    email_verified: true,
    name: 'Test Final Fix',
    phone: '07123456789'
  },
  identities: [
    {
      identity_id: 'f5e2bd7c-b915-4dfa-a532-d8d80af45888',
      id: '8067a283-d4c2-4849-803b-615032a03be3',
      user_id: '8067a283-d4c2-4849-803b-615032a03be3',
      identity_data: [Object],
      provider: 'email',
      last_sign_in_at: '2025-07-13T04:14:05.47521264Z',
      created_at: '2025-07-13T04:14:05.475265Z',
      updated_at: '2025-07-13T04:14:05.475265Z',
      email: 'test-vehicle-fix-final@example.com'
    }
  ],
  created_at: '2025-07-13T04:14:05.471618Z',
  updated_at: '2025-07-13T04:14:05.478876Z',
  is_anonymous: false
}
✅ Auth user created: 8067a283-d4c2-4849-803b-615032a03be3
📋 Creating user profile in public.users table...
❌ User profile creation failed: {
  code: '23505',
  details: 'Key (id)=(8067a283-d4c2-4849-803b-615032a03be3) already exists.',
  hint: null,
  message: 'duplicate key value violates unique constraint "users_pkey"'
}
❌ Profile error details: {
  "code": "23505",
  "details": "Key (id)=(8067a283-d4c2-4849-803b-615032a03be3) already exists.",
  "hint": null,
  "message": "duplicate key value violates unique constraint \"users_pkey\""
}
✅ Vehicle creation completed earlier - vehicle_id: 23d90286-e9c3-4512-9ef5-26b95724e76a

💰 REWARDING POINTS FOR BOOKING
------------------------------
🎁 Awarding reward points for booking completion
💰 Points calculation:
   - Service price: £60
   - Points from spending: 60
   - Completion bonus: 50
   - Total points to award: 110
✅ Reward transaction created successfully
✅ Reward points awarded successfully

🎉 Booking creation completed successfully
📊 Final response data: {
  "booking_id": "5bad94cc-edf7-459c-9671-9bb35a559fda",
  "booking_reference": "L4D80045054BOIU",
  "status": "confirmed",
  "message": "Booking created and auth account set up (profile creation failed) and 110 reward points awarded",
  "account_created": true,
  "user_id": "8067a283-d4c2-4849-803b-615032a03be3",
  "points_awarded": 110,
  "new_tier": "bronze"
}
🔍 User bookings API called
🔍 User bookings API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
📊 Found 5 bookings for user
✅ Transformed 5 bookings for frontend
📊 Found 5 bookings for user
✅ Transformed 5 bookings for frontend
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 5,
  totalCount: 5
}
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 5,
  totalCount: 5
}
 ✓ Compiled in 276ms (1150 modules)
 ✓ Compiled in 140ms (565 modules)
 ✓ Compiled /api/bookings/enhanced/create in 470ms (749 modules)
🚀 Booking creation API called
📝 Request body: {
  "bookingData": {
    "customer_email": "test-email-valid@example.com",
    "customer_name": "Valid Email Test",
    "customer_phone": "07123456789",
    "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
    "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "vehicle_size": "medium",
    "service_address": "123 Test Street, London",
    "vehicle_registration": "ETEST123",
    "vehicle_make": "Toyota",
    "vehicle_model": "Camry",
    "vehicle_year": 2022,
    "vehicle_color": "Blue",
    "payment_method": "cash"
  }
}
📋 Booking data received: {
  "customer_email": "test-email-valid@example.com",
  "customer_name": "Valid Email Test",
  "customer_phone": "07123456789",
  "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "vehicle_size": "medium",
  "service_address": "123 Test Street, London",
  "vehicle_registration": "ETEST123",
  "vehicle_make": "Toyota",
  "vehicle_model": "Camry",
  "vehicle_year": 2022,
  "vehicle_color": "Blue",
  "payment_method": "cash"
}
🔍 Detailed vehicle data inspection: {
  'bookingData.vehicle_registration': 'ETEST123',
  'bookingData.vehicle_make': 'Toyota',
  'bookingData.vehicle_model': 'Camry',
  'typeof vehicle_registration': 'string',
  'typeof vehicle_make': 'string',
  'typeof vehicle_model': 'string',
  'vehicle_registration length': 8,
  'vehicle_make length': 6,
  'vehicle_model length': 5
}
✅ All required fields present
🔐 Getting user session...
⚠️  User session error: AuthSessionMissingError: Auth session missing!
    at /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1049:59
    at SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:26)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🔑 Creating service role client...
🔍 Account creation decision analysis:
   Current user session: No user session
   Booking email: test-email-valid@example.com
   Emails match: N/A
   isBookingForCurrentUser: null
   Will create account: true
👥 Creating guest/new customer booking
🔄 Attempting stored procedure booking creation...
🔄 Stored procedure intentionally disabled - using fallback for vehicle creation
❌ Stored procedure error: {
  message: 'Stored procedure disabled - using fallback with vehicle creation'
}
🔄 Using fallback direct booking creation
🔍 Testing database connection...
✅ Database connection test passed
📋 Generated booking reference: L4D80359096G2BM (15 chars)
🚗 Available vehicle data: {
  vehicle_registration: 'ETEST123',
  vehicle_make: 'Toyota',
  vehicle_model: 'Camry',
  vehicle_year: 2022,
  vehicle_color: 'Blue',
  vehicle_size: 'medium',
  vehicle_type: undefined,
  vehicle_special_requirements: undefined,
  user_id: null
}
🚗 Vehicle creation condition check: {
  hasRegistration: true,
  hasMake: true,
  hasModel: true,
  registrationValue: 'ETEST123',
  makeValue: 'Toyota',
  modelValue: 'Camry',
  conditionMet: true
}
🚗 Creating vehicle before booking...
🔄 Creating new vehicle record...
✅ Vehicle created successfully: f1a4508f-a377-4682-ac6e-2594207a759c
💾 Creating booking record with vehicle_id: f1a4508f-a377-4682-ac6e-2594207a759c
💾 Full booking record: {
  "user_id": null,
  "vehicle_id": "f1a4508f-a377-4682-ac6e-2594207a759c",
  "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "booking_reference": "L4D80359096G2BM",
  "customer_name": "Valid Email Test",
  "customer_email": "test-email-valid@example.com",
  "customer_phone": "07123456789",
  "service_location": "123 Test Street, London",
  "notes": "",
  "customer_instructions": "",
  "payment_method": "cash",
  "status": "confirmed",
  "service_price_pence": 6000,
  "total_price_pence": 6000,
  "created_at": "2025-07-13T04:19:19.307Z",
  "updated_at": "2025-07-13T04:19:19.307Z"
}
✅ Booking created successfully: {
  id: '784b4d49-9469-43a5-96c1-c6e36a9d09d9',
  booking_reference: 'L4D80359096G2BM',
  user_id: null,
  customer_email: 'test-email-valid@example.com',
  customer_name: 'Valid Email Test',
  customer_phone: '07123456789',
  vehicle_id: 'f1a4508f-a377-4682-ac6e-2594207a759c',
  service_id: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  slot_id: '2cbf2a78-18a7-4e32-bf2b-350733814e30',
  status: 'confirmed',
  payment_status: 'pending',
  payment_method: 'cash',
  service_price_pence: 6000,
  discount_pence: 0,
  total_price_pence: 6000,
  confirmed_at: null,
  completed_at: null,
  cancelled_at: null,
  cancellation_reason: null,
  notes: '',
  created_at: '2025-07-13T04:19:19.307+00:00',
  updated_at: '2025-07-13T04:19:19.307+00:00',
  customer_instructions: '',
  service_location: '123 Test Street, London',
  original_slot_id: null,
  current_slot_id: null,
  booking_history: [],
  reschedule_count: 0,
  last_status_change: '2025-07-13T04:19:19.346099+00:00',
  status_change_reason: null,
  created_from_reschedule: false
}
🔍 Final account creation check:
   isBookingForCurrentUser: null
   customer_email: test-email-valid@example.com
   condition (!isBookingForCurrentUser && bookingData.customer_email): test-email-valid@example.com
👤 Creating account for new customer: test-email-valid@example.com
👤 Account creation conditions met: {
  isBookingForCurrentUser: null,
  hasEmail: true,
  email: 'test-email-valid@example.com'
}
🔍 Checking if user already exists...
🔐 Using REST API to create user...
✅ User created via REST API: 4ee52529-dbe4-4293-adac-b92bb5df74ac
✅ Created user details: {
  id: '4ee52529-dbe4-4293-adac-b92bb5df74ac',
  aud: 'authenticated',
  role: 'authenticated',
  email: 'test-email-valid@example.com',
  email_confirmed_at: '2025-07-13T04:19:19.607117279Z',
  phone: '',
  app_metadata: { provider: 'email', providers: [ 'email' ] },
  user_metadata: {
    created_via: 'booking_system',
    email_verified: true,
    name: 'Valid Email Test',
    phone: '07123456789'
  },
  identities: [
    {
      identity_id: '7e7d23ea-735f-4806-b082-5fa60b6fbd9b',
      id: '4ee52529-dbe4-4293-adac-b92bb5df74ac',
      user_id: '4ee52529-dbe4-4293-adac-b92bb5df74ac',
      identity_data: [Object],
      provider: 'email',
      last_sign_in_at: '2025-07-13T04:19:19.602379796Z',
      created_at: '2025-07-13T04:19:19.602435Z',
      updated_at: '2025-07-13T04:19:19.602435Z',
      email: 'test-email-valid@example.com'
    }
  ],
  created_at: '2025-07-13T04:19:19.594902Z',
  updated_at: '2025-07-13T04:19:19.608521Z',
  is_anonymous: false
}
✅ Auth user created: 4ee52529-dbe4-4293-adac-b92bb5df74ac
📋 Creating user profile in public.users table...
❌ User profile creation failed: {
  code: '23505',
  details: 'Key (id)=(4ee52529-dbe4-4293-adac-b92bb5df74ac) already exists.',
  hint: null,
  message: 'duplicate key value violates unique constraint "users_pkey"'
}
❌ Profile error details: {
  "code": "23505",
  "details": "Key (id)=(4ee52529-dbe4-4293-adac-b92bb5df74ac) already exists.",
  "hint": null,
  "message": "duplicate key value violates unique constraint \"users_pkey\""
}
✅ Vehicle creation completed earlier - vehicle_id: f1a4508f-a377-4682-ac6e-2594207a759c

💰 REWARDING POINTS FOR BOOKING
------------------------------
🎁 Awarding reward points for booking completion
💰 Points calculation:
   - Service price: £60
   - Points from spending: 60
   - Completion bonus: 50
   - Total points to award: 110
✅ Reward transaction created successfully
✅ Reward points awarded successfully

📧 SENDING BOOKING CONFIRMATION EMAILS
----------------------------------------
📧 Preparing email data for booking: L4D80359096G2BM
📧 Email data prepared: {
  reference: 'L4D80359096G2BM',
  customer: 'Valid Email Test',
  email: 'test-email-valid@example.com',
  vehicle: 'Toyota Camry',
  price: '£60.00'
}
📧 Sending booking confirmation email: { customer: 'Valid Email Test', booking: 'L4D80359096G2BM' }
✅ Booking confirmation email triggered (async)

🎉 Booking creation completed successfully
📊 Final response data: {
  "booking_id": "784b4d49-9469-43a5-96c1-c6e36a9d09d9",
  "booking_reference": "L4D80359096G2BM",
  "status": "confirmed",
  "message": "Booking created and auth account set up (profile creation failed) and 110 reward points awarded",
  "account_created": true,
  "user_id": "4ee52529-dbe4-4293-adac-b92bb5df74ac",
  "points_awarded": 110,
  "new_tier": "bronze",
  "email_triggered": true
}
🚀 Booking creation API called
📝 Request body: {
  "bookingData": {
    "customer_email": "invalid-email-address",
    "customer_name": "Invalid Email Test",
    "customer_phone": "07123456789",
    "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
    "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "vehicle_size": "medium",
    "service_address": "123 Test Street, London",
    "vehicle_registration": "INVALID123",
    "vehicle_make": "Honda",
    "vehicle_model": "Civic",
    "vehicle_year": 2021,
    "vehicle_color": "Red",
    "payment_method": "cash"
  }
}
📋 Booking data received: {
  "customer_email": "invalid-email-address",
  "customer_name": "Invalid Email Test",
  "customer_phone": "07123456789",
  "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "vehicle_size": "medium",
  "service_address": "123 Test Street, London",
  "vehicle_registration": "INVALID123",
  "vehicle_make": "Honda",
  "vehicle_model": "Civic",
  "vehicle_year": 2021,
  "vehicle_color": "Red",
  "payment_method": "cash"
}
🔍 Detailed vehicle data inspection: {
  'bookingData.vehicle_registration': 'INVALID123',
  'bookingData.vehicle_make': 'Honda',
  'bookingData.vehicle_model': 'Civic',
  'typeof vehicle_registration': 'string',
  'typeof vehicle_make': 'string',
  'typeof vehicle_model': 'string',
  'vehicle_registration length': 10,
  'vehicle_make length': 5,
  'vehicle_model length': 5
}
✅ All required fields present
🔐 Getting user session...
⚠️  User session error: AuthSessionMissingError: Auth session missing!
    at /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1049:59
    at SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:26)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🔑 Creating service role client...
🔍 Account creation decision analysis:
   Current user session: No user session
   Booking email: invalid-email-address
   Emails match: N/A
   isBookingForCurrentUser: null
   Will create account: true
👥 Creating guest/new customer booking
🔄 Attempting stored procedure booking creation...
🔄 Stored procedure intentionally disabled - using fallback for vehicle creation
❌ Stored procedure error: {
  message: 'Stored procedure disabled - using fallback with vehicle creation'
}
🔄 Using fallback direct booking creation
🔍 Testing database connection...
✅ Database connection test passed
📋 Generated booking reference: L4D80359890NZ3U (15 chars)
🚗 Available vehicle data: {
  vehicle_registration: 'INVALID123',
  vehicle_make: 'Honda',
  vehicle_model: 'Civic',
  vehicle_year: 2021,
  vehicle_color: 'Red',
  vehicle_size: 'medium',
  vehicle_type: undefined,
  vehicle_special_requirements: undefined,
  user_id: null
}
🚗 Vehicle creation condition check: {
  hasRegistration: true,
  hasMake: true,
  hasModel: true,
  registrationValue: 'INVALID123',
  makeValue: 'Honda',
  modelValue: 'Civic',
  conditionMet: true
}
🚗 Creating vehicle before booking...
🔄 Creating new vehicle record...
✅ Vehicle created successfully: 1c5e5f82-30c7-4842-b130-e3c89ad136ad
💾 Creating booking record with vehicle_id: 1c5e5f82-30c7-4842-b130-e3c89ad136ad
💾 Full booking record: {
  "user_id": null,
  "vehicle_id": "1c5e5f82-30c7-4842-b130-e3c89ad136ad",
  "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "booking_reference": "L4D80359890NZ3U",
  "customer_name": "Invalid Email Test",
  "customer_email": "invalid-email-address",
  "customer_phone": "07123456789",
  "service_location": "123 Test Street, London",
  "notes": "",
  "customer_instructions": "",
  "payment_method": "cash",
  "status": "confirmed",
  "service_price_pence": 6000,
  "total_price_pence": 6000,
  "created_at": "2025-07-13T04:19:20.033Z",
  "updated_at": "2025-07-13T04:19:20.033Z"
}
✅ Booking created successfully: {
  id: '3cf2fa42-ce15-4040-b400-554bf2804f1e',
  booking_reference: 'L4D80359890NZ3U',
  user_id: null,
  customer_email: 'invalid-email-address',
  customer_name: 'Invalid Email Test',
  customer_phone: '07123456789',
  vehicle_id: '1c5e5f82-30c7-4842-b130-e3c89ad136ad',
  service_id: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  slot_id: '2cbf2a78-18a7-4e32-bf2b-350733814e30',
  status: 'confirmed',
  payment_status: 'pending',
  payment_method: 'cash',
  service_price_pence: 6000,
  discount_pence: 0,
  total_price_pence: 6000,
  confirmed_at: null,
  completed_at: null,
  cancelled_at: null,
  cancellation_reason: null,
  notes: '',
  created_at: '2025-07-13T04:19:20.033+00:00',
  updated_at: '2025-07-13T04:19:20.033+00:00',
  customer_instructions: '',
  service_location: '123 Test Street, London',
  original_slot_id: null,
  current_slot_id: null,
  booking_history: [],
  reschedule_count: 0,
  last_status_change: '2025-07-13T04:19:20.059824+00:00',
  status_change_reason: null,
  created_from_reschedule: false
}
🔍 Final account creation check:
   isBookingForCurrentUser: null
   customer_email: invalid-email-address
   condition (!isBookingForCurrentUser && bookingData.customer_email): invalid-email-address
👤 Creating account for new customer: invalid-email-address
👤 Account creation conditions met: {
  isBookingForCurrentUser: null,
  hasEmail: true,
  email: 'invalid-email-address'
}
🔍 Checking if user already exists...
🔐 Using REST API to create user...
❌ User creation failed: 400 {"code":400,"error_code":"validation_failed","msg":"Unable to validate email address: invalid format"}
❌ Request details: {
  url: 'https://lczzvvnspsuacshfawpe.supabase.co/auth/v1/admin/users',
  method: 'POST',
  email: 'invalid-email-address'
}
❌ Auth user creation failed: {
  message: '{"code":400,"error_code":"validation_failed","msg":"Unable to validate email address: invalid format"}'
}
✅ Vehicle creation completed earlier - vehicle_id: 1c5e5f82-30c7-4842-b130-e3c89ad136ad

💰 REWARDING POINTS FOR BOOKING
------------------------------
❌ Cannot award points - missing user ID or booking ID

📧 SENDING BOOKING CONFIRMATION EMAILS
----------------------------------------
📧 Preparing email data for booking: L4D80359890NZ3U
📧 Email data prepared: {
  reference: 'L4D80359890NZ3U',
  customer: 'Invalid Email Test',
  email: 'invalid-email-address',
  vehicle: 'Honda Civic',
  price: '£60.00'
}
📧 Sending booking confirmation email: { customer: 'Invalid Email Test', booking: 'L4D80359890NZ3U' }
✅ Booking confirmation email triggered (async)

🎉 Booking creation completed successfully
📊 Final response data: {
  "booking_id": "3cf2fa42-ce15-4040-b400-554bf2804f1e",
  "booking_reference": "L4D80359890NZ3U",
  "status": "confirmed",
  "message": "Booking created successfully",
  "email_triggered": true
}
🚀 Booking creation API called
📝 Request body: {
  "bookingData": {
    "customer_email": "test-missing@example.com",
    "customer_name": "Missing Data Test",
    "customer_phone": "07123456789",
    "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
    "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "vehicle_size": "medium",
    "service_address": "123 Test Street, London",
    "payment_method": "cash"
  }
}
📋 Booking data received: {
  "customer_email": "test-missing@example.com",
  "customer_name": "Missing Data Test",
  "customer_phone": "07123456789",
  "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "vehicle_size": "medium",
  "service_address": "123 Test Street, London",
  "payment_method": "cash"
}
🔍 Detailed vehicle data inspection: {
  'bookingData.vehicle_registration': undefined,
  'bookingData.vehicle_make': undefined,
  'bookingData.vehicle_model': undefined,
  'typeof vehicle_registration': 'undefined',
  'typeof vehicle_make': 'undefined',
  'typeof vehicle_model': 'undefined',
  'vehicle_registration length': undefined,
  'vehicle_make length': undefined,
  'vehicle_model length': undefined
}
✅ All required fields present
🔐 Getting user session...
⚠️  User session error: AuthSessionMissingError: Auth session missing!
    at /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1049:59
    at SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:26)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🔑 Creating service role client...
🔍 Account creation decision analysis:
   Current user session: No user session
   Booking email: test-missing@example.com
   Emails match: N/A
   isBookingForCurrentUser: null
   Will create account: true
👥 Creating guest/new customer booking
🔄 Attempting stored procedure booking creation...
🔄 Stored procedure intentionally disabled - using fallback for vehicle creation
❌ Stored procedure error: {
  message: 'Stored procedure disabled - using fallback with vehicle creation'
}
🔄 Using fallback direct booking creation
🔍 Testing database connection...
✅ Database connection test passed
📋 Generated booking reference: L4D80360279PX2N (15 chars)
🚗 Available vehicle data: {
  vehicle_registration: undefined,
  vehicle_make: undefined,
  vehicle_model: undefined,
  vehicle_year: undefined,
  vehicle_color: undefined,
  vehicle_size: 'medium',
  vehicle_type: undefined,
  vehicle_special_requirements: undefined,
  user_id: null
}
🚗 Vehicle creation condition check: {
  hasRegistration: false,
  hasMake: false,
  hasModel: false,
  registrationValue: undefined,
  makeValue: undefined,
  modelValue: undefined,
  conditionMet: false
}
💾 Creating booking record with vehicle_id: null
💾 Full booking record: {
  "user_id": null,
  "vehicle_id": null,
  "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "booking_reference": "L4D80360279PX2N",
  "customer_name": "Missing Data Test",
  "customer_email": "test-missing@example.com",
  "customer_phone": "07123456789",
  "service_location": "123 Test Street, London",
  "notes": "",
  "customer_instructions": "",
  "payment_method": "cash",
  "status": "confirmed",
  "service_price_pence": 6000,
  "total_price_pence": 6000,
  "created_at": "2025-07-13T04:19:20.338Z",
  "updated_at": "2025-07-13T04:19:20.338Z"
}
✅ Booking created successfully: {
  id: 'b64cee4a-4a8b-4bfa-aa52-8216456f5e70',
  booking_reference: 'L4D80360279PX2N',
  user_id: null,
  customer_email: 'test-missing@example.com',
  customer_name: 'Missing Data Test',
  customer_phone: '07123456789',
  vehicle_id: null,
  service_id: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  slot_id: '2cbf2a78-18a7-4e32-bf2b-350733814e30',
  status: 'confirmed',
  payment_status: 'pending',
  payment_method: 'cash',
  service_price_pence: 6000,
  discount_pence: 0,
  total_price_pence: 6000,
  confirmed_at: null,
  completed_at: null,
  cancelled_at: null,
  cancellation_reason: null,
  notes: '',
  created_at: '2025-07-13T04:19:20.338+00:00',
  updated_at: '2025-07-13T04:19:20.338+00:00',
  customer_instructions: '',
  service_location: '123 Test Street, London',
  original_slot_id: null,
  current_slot_id: null,
  booking_history: [],
  reschedule_count: 0,
  last_status_change: '2025-07-13T04:19:20.363826+00:00',
  status_change_reason: null,
  created_from_reschedule: false
}
🔍 Final account creation check:
   isBookingForCurrentUser: null
   customer_email: test-missing@example.com
   condition (!isBookingForCurrentUser && bookingData.customer_email): test-missing@example.com
👤 Creating account for new customer: test-missing@example.com
👤 Account creation conditions met: {
  isBookingForCurrentUser: null,
  hasEmail: true,
  email: 'test-missing@example.com'
}
🔍 Checking if user already exists...
🔐 Using REST API to create user...
✅ User created via REST API: 83b8eeef-6663-4367-9707-96913750e996
✅ Created user details: {
  id: '83b8eeef-6663-4367-9707-96913750e996',
  aud: 'authenticated',
  role: 'authenticated',
  email: 'test-missing@example.com',
  email_confirmed_at: '2025-07-13T04:19:20.568137916Z',
  phone: '',
  app_metadata: { provider: 'email', providers: [ 'email' ] },
  user_metadata: {
    created_via: 'booking_system',
    email_verified: true,
    name: 'Missing Data Test',
    phone: '07123456789'
  },
  identities: [
    {
      identity_id: 'fd5fafb8-fbda-4613-b9db-6abf5d650a7b',
      id: '83b8eeef-6663-4367-9707-96913750e996',
      user_id: '83b8eeef-6663-4367-9707-96913750e996',
      identity_data: [Object],
      provider: 'email',
      last_sign_in_at: '2025-07-13T04:19:20.56575704Z',
      created_at: '2025-07-13T04:19:20.565809Z',
      updated_at: '2025-07-13T04:19:20.565809Z',
      email: 'test-missing@example.com'
    }
  ],
  created_at: '2025-07-13T04:19:20.56372Z',
  updated_at: '2025-07-13T04:19:20.568811Z',
  is_anonymous: false
}
✅ Auth user created: 83b8eeef-6663-4367-9707-96913750e996
📋 Creating user profile in public.users table...
❌ User profile creation failed: {
  code: '23505',
  details: 'Key (id)=(83b8eeef-6663-4367-9707-96913750e996) already exists.',
  hint: null,
  message: 'duplicate key value violates unique constraint "users_pkey"'
}
❌ Profile error details: {
  "code": "23505",
  "details": "Key (id)=(83b8eeef-6663-4367-9707-96913750e996) already exists.",
  "hint": null,
  "message": "duplicate key value violates unique constraint \"users_pkey\""
}
✅ Vehicle creation completed earlier - vehicle_id: null

💰 REWARDING POINTS FOR BOOKING
------------------------------
🎁 Awarding reward points for booking completion
💰 Points calculation:
   - Service price: £60
   - Points from spending: 60
   - Completion bonus: 50
   - Total points to award: 110
✅ Reward transaction created successfully
✅ Reward points awarded successfully

📧 SENDING BOOKING CONFIRMATION EMAILS
----------------------------------------
📧 Preparing email data for booking: L4D80360279PX2N
📊 Email notification logged: {
  email: 'test-email-valid@example.com',
  type: 'booking_confirmation',
  subject: 'Booking Confirmed - Your Love4Detailing Service',
  booking: 'L4D80359096G2BM',
  timestamp: '2025-07-13T04:19:20.773Z'
}
✅ Booking confirmation emails sent successfully
✅ Booking confirmation email sent successfully: undefined
📧 Email data prepared: {
  reference: 'L4D80360279PX2N',
  customer: 'Missing Data Test',
  email: 'test-missing@example.com',
  vehicle: 'Unknown Vehicle',
  price: '£60.00'
}
📧 Sending booking confirmation email: { customer: 'Missing Data Test', booking: 'L4D80360279PX2N' }
✅ Booking confirmation email triggered (async)

🎉 Booking creation completed successfully
📊 Final response data: {
  "booking_id": "b64cee4a-4a8b-4bfa-aa52-8216456f5e70",
  "booking_reference": "L4D80360279PX2N",
  "status": "confirmed",
  "message": "Booking created and auth account set up (profile creation failed) and 110 reward points awarded",
  "account_created": true,
  "user_id": "83b8eeef-6663-4367-9707-96913750e996",
  "points_awarded": 110,
  "new_tier": "bronze",
  "email_triggered": true
}
📊 Email notification logged: {
  email: 'invalid-email-address',
  type: 'booking_confirmation',
  subject: 'Booking Confirmed - Your Love4Detailing Service',
  booking: 'L4D80359890NZ3U',
  timestamp: '2025-07-13T04:19:20.805Z'
}
✅ Booking confirmation emails sent successfully
✅ Booking confirmation email sent successfully: undefined
 ✓ Compiled /api/emails/send in 69ms (751 modules)
📧 Email send API called
📊 Email notification logged: {
  email: 'test-missing@example.com',
  type: 'booking_confirmation',
  subject: 'Booking Confirmed - Your Love4Detailing Service',
  booking: 'L4D80360279PX2N',
  timestamp: '2025-07-13T04:19:22.067Z'
}
✅ Booking confirmation emails sent successfully
✅ Booking confirmation email sent successfully: undefined
📧 Email send API called
📧 Processing email request: { type: 'booking_confirmation' }
📧 Sending booking confirmation email: { customer: 'Email Test Customer', booking: 'EMAIL-TEST-001' }
📊 Email notification logged: {
  email: 'test-direct@example.com',
  type: 'booking_confirmation',
  subject: 'Booking Confirmed - Your Love4Detailing Service',
  booking: 'EMAIL-TEST-001',
  timestamp: '2025-07-13T04:20:27.529Z'
}
✅ Booking confirmation emails sent successfully
✅ Email sent successfully: { type: 'booking_confirmation', messageId: undefined }
📧 Email send API called
📧 Processing email request: { type: 'booking_confirmation' }
📧 Sending booking confirmation email: { customer: 'Invalid Email Test', booking: 'INVALID-EMAIL-001' }
📊 Email notification logged: {
  email: 'not-a-valid-email-address',
  type: 'booking_confirmation',
  subject: 'Booking Confirmed - Your Love4Detailing Service',
  booking: 'INVALID-EMAIL-001',
  timestamp: '2025-07-13T04:20:29.936Z'
}
✅ Booking confirmation emails sent successfully
✅ Email sent successfully: { type: 'booking_confirmation', messageId: undefined }
📧 Email send API called
📧 Processing email request: { type: 'booking_confirmation' }
📧 Sending booking confirmation email: { customer: 'Incomplete Test', booking: 'INCOMPLETE-001' }
📊 Email notification logged: {
  email: undefined,
  type: 'booking_confirmation',
  subject: 'Booking Confirmed - Your Love4Detailing Service',
  booking: 'INCOMPLETE-001',
  timestamp: '2025-07-13T04:20:32.084Z'
}
✅ Booking confirmation emails sent successfully
✅ Email sent successfully: { type: 'booking_confirmation', messageId: undefined }
📧 Email send API called
📧 Processing email request: { type: 'booking_confirmation' }
📧 Sending booking confirmation email: { customer: 'Rate Test Customer 1', booking: 'RATE-TEST-1' }
📊 Email notification logged: {
  email: 'rate-test-1@example.com',
  type: 'booking_confirmation',
  subject: 'Booking Confirmed - Your Love4Detailing Service',
  booking: 'RATE-TEST-1',
  timestamp: '2025-07-13T04:20:35.794Z'
}
✅ Booking confirmation emails sent successfully
✅ Email sent successfully: { type: 'booking_confirmation', messageId: undefined }
📧 Email send API called
📧 Processing email request: { type: 'booking_confirmation' }
📧 Sending booking confirmation email: { customer: 'Rate Test Customer 2', booking: 'RATE-TEST-2' }
📊 Email notification logged: {
  email: 'rate-test-2@example.com',
  type: 'booking_confirmation',
  subject: 'Booking Confirmed - Your Love4Detailing Service',
  booking: 'RATE-TEST-2',
  timestamp: '2025-07-13T04:20:37.446Z'
}
✅ Booking confirmation emails sent successfully
✅ Email sent successfully: { type: 'booking_confirmation', messageId: undefined }
📧 Email send API called
📧 Processing email request: { type: 'booking_confirmation' }
📧 Sending booking confirmation email: { customer: 'Rate Test Customer 3', booking: 'RATE-TEST-3' }
📊 Email notification logged: {
  email: 'rate-test-3@example.com',
  type: 'booking_confirmation',
  subject: 'Booking Confirmed - Your Love4Detailing Service',
  booking: 'RATE-TEST-3',
  timestamp: '2025-07-13T04:20:39.072Z'
}
✅ Booking confirmation emails sent successfully
✅ Email sent successfully: { type: 'booking_confirmation', messageId: undefined }
📧 Email send API called
📧 Processing email request: { type: 'booking_confirmation' }
📧 Sending booking confirmation email: { customer: 'Rate Test Customer 4', booking: 'RATE-TEST-4' }
📊 Email notification logged: {
  email: 'rate-test-4@example.com',
  type: 'booking_confirmation',
  subject: 'Booking Confirmed - Your Love4Detailing Service',
  booking: 'RATE-TEST-4',
  timestamp: '2025-07-13T04:20:40.717Z'
}
✅ Booking confirmation emails sent successfully
✅ Email sent successfully: { type: 'booking_confirmation', messageId: undefined }
📧 Email send API called
📧 Processing email request: { type: 'booking_confirmation' }
📧 Sending booking confirmation email: { customer: 'Rate Test Customer 5', booking: 'RATE-TEST-5' }
📊 Email notification logged: {
  email: 'rate-test-5@example.com',
  type: 'booking_confirmation',
  subject: 'Booking Confirmed - Your Love4Detailing Service',
  booking: 'RATE-TEST-5',
  timestamp: '2025-07-13T04:20:42.315Z'
}
✅ Booking confirmation emails sent successfully
✅ Email sent successfully: { type: 'booking_confirmation', messageId: undefined }
🚀 Booking creation API called
📝 Request body: {
  "bookingData": {
    "customer_email": "integration-test@example.com",
    "customer_name": "Integration Test User",
    "customer_phone": "07123456789",
    "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
    "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "vehicle_size": "medium",
    "service_address": "123 Integration Test Street, London",
    "vehicle_registration": "INT123",
    "vehicle_make": "Ford",
    "vehicle_model": "Focus",
    "vehicle_year": 2023,
    "vehicle_color": "Blue",
    "payment_method": "cash"
  }
}
📋 Booking data received: {
  "customer_email": "integration-test@example.com",
  "customer_name": "Integration Test User",
  "customer_phone": "07123456789",
  "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "vehicle_size": "medium",
  "service_address": "123 Integration Test Street, London",
  "vehicle_registration": "INT123",
  "vehicle_make": "Ford",
  "vehicle_model": "Focus",
  "vehicle_year": 2023,
  "vehicle_color": "Blue",
  "payment_method": "cash"
}
🔍 Detailed vehicle data inspection: {
  'bookingData.vehicle_registration': 'INT123',
  'bookingData.vehicle_make': 'Ford',
  'bookingData.vehicle_model': 'Focus',
  'typeof vehicle_registration': 'string',
  'typeof vehicle_make': 'string',
  'typeof vehicle_model': 'string',
  'vehicle_registration length': 6,
  'vehicle_make length': 4,
  'vehicle_model length': 5
}
✅ All required fields present
🔐 Getting user session...
⚠️  User session error: AuthSessionMissingError: Auth session missing!
    at /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1049:59
    at SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:26)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🔑 Creating service role client...
🔍 Account creation decision analysis:
   Current user session: No user session
   Booking email: integration-test@example.com
   Emails match: N/A
   isBookingForCurrentUser: null
   Will create account: true
👥 Creating guest/new customer booking
🔄 Attempting stored procedure booking creation...
🔄 Stored procedure intentionally disabled - using fallback for vehicle creation
❌ Stored procedure error: {
  message: 'Stored procedure disabled - using fallback with vehicle creation'
}
🔄 Using fallback direct booking creation
🔍 Testing database connection...
✅ Database connection test passed
📋 Generated booking reference: L4D80491285PUZC (15 chars)
🚗 Available vehicle data: {
  vehicle_registration: 'INT123',
  vehicle_make: 'Ford',
  vehicle_model: 'Focus',
  vehicle_year: 2023,
  vehicle_color: 'Blue',
  vehicle_size: 'medium',
  vehicle_type: undefined,
  vehicle_special_requirements: undefined,
  user_id: null
}
🚗 Vehicle creation condition check: {
  hasRegistration: true,
  hasMake: true,
  hasModel: true,
  registrationValue: 'INT123',
  makeValue: 'Ford',
  modelValue: 'Focus',
  conditionMet: true
}
🚗 Creating vehicle before booking...
🔄 Creating new vehicle record...
✅ Vehicle created successfully: f673f408-5e5d-4629-85ab-9e06462ce087
💾 Creating booking record with vehicle_id: f673f408-5e5d-4629-85ab-9e06462ce087
💾 Full booking record: {
  "user_id": null,
  "vehicle_id": "f673f408-5e5d-4629-85ab-9e06462ce087",
  "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "booking_reference": "L4D80491285PUZC",
  "customer_name": "Integration Test User",
  "customer_email": "integration-test@example.com",
  "customer_phone": "07123456789",
  "service_location": "123 Integration Test Street, London",
  "notes": "",
  "customer_instructions": "",
  "payment_method": "cash",
  "status": "confirmed",
  "service_price_pence": 6000,
  "total_price_pence": 6000,
  "created_at": "2025-07-13T04:21:31.487Z",
  "updated_at": "2025-07-13T04:21:31.487Z"
}
✅ Booking created successfully: {
  id: '74dbaccf-91a8-416f-b019-a9fe1ae8d884',
  booking_reference: 'L4D80491285PUZC',
  user_id: null,
  customer_email: 'integration-test@example.com',
  customer_name: 'Integration Test User',
  customer_phone: '07123456789',
  vehicle_id: 'f673f408-5e5d-4629-85ab-9e06462ce087',
  service_id: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  slot_id: '2cbf2a78-18a7-4e32-bf2b-350733814e30',
  status: 'confirmed',
  payment_status: 'pending',
  payment_method: 'cash',
  service_price_pence: 6000,
  discount_pence: 0,
  total_price_pence: 6000,
  confirmed_at: null,
  completed_at: null,
  cancelled_at: null,
  cancellation_reason: null,
  notes: '',
  created_at: '2025-07-13T04:21:31.487+00:00',
  updated_at: '2025-07-13T04:21:31.487+00:00',
  customer_instructions: '',
  service_location: '123 Integration Test Street, London',
  original_slot_id: null,
  current_slot_id: null,
  booking_history: [],
  reschedule_count: 0,
  last_status_change: '2025-07-13T04:21:31.523662+00:00',
  status_change_reason: null,
  created_from_reschedule: false
}
🔍 Final account creation check:
   isBookingForCurrentUser: null
   customer_email: integration-test@example.com
   condition (!isBookingForCurrentUser && bookingData.customer_email): integration-test@example.com
👤 Creating account for new customer: integration-test@example.com
👤 Account creation conditions met: {
  isBookingForCurrentUser: null,
  hasEmail: true,
  email: 'integration-test@example.com'
}
🔍 Checking if user already exists...
🔐 Using REST API to create user...
✅ User created via REST API: 150a22e0-b806-4bf6-9d2a-49019599d29b
✅ Created user details: {
  id: '150a22e0-b806-4bf6-9d2a-49019599d29b',
  aud: 'authenticated',
  role: 'authenticated',
  email: 'integration-test@example.com',
  email_confirmed_at: '2025-07-13T04:21:31.793754343Z',
  phone: '',
  app_metadata: { provider: 'email', providers: [ 'email' ] },
  user_metadata: {
    created_via: 'booking_system',
    email_verified: true,
    name: 'Integration Test User',
    phone: '07123456789'
  },
  identities: [
    {
      identity_id: 'f17a28bc-d2bf-4827-9890-2ed8800136bf',
      id: '150a22e0-b806-4bf6-9d2a-49019599d29b',
      user_id: '150a22e0-b806-4bf6-9d2a-49019599d29b',
      identity_data: [Object],
      provider: 'email',
      last_sign_in_at: '2025-07-13T04:21:31.788266906Z',
      created_at: '2025-07-13T04:21:31.788322Z',
      updated_at: '2025-07-13T04:21:31.788322Z',
      email: 'integration-test@example.com'
    }
  ],
  created_at: '2025-07-13T04:21:31.780589Z',
  updated_at: '2025-07-13T04:21:31.794558Z',
  is_anonymous: false
}
✅ Auth user created: 150a22e0-b806-4bf6-9d2a-49019599d29b
📋 Creating user profile in public.users table...
❌ User profile creation failed: {
  code: '23505',
  details: 'Key (id)=(150a22e0-b806-4bf6-9d2a-49019599d29b) already exists.',
  hint: null,
  message: 'duplicate key value violates unique constraint "users_pkey"'
}
❌ Profile error details: {
  "code": "23505",
  "details": "Key (id)=(150a22e0-b806-4bf6-9d2a-49019599d29b) already exists.",
  "hint": null,
  "message": "duplicate key value violates unique constraint \"users_pkey\""
}
✅ Vehicle creation completed earlier - vehicle_id: f673f408-5e5d-4629-85ab-9e06462ce087

💰 REWARDING POINTS FOR BOOKING
------------------------------
🎁 Awarding reward points for booking completion
💰 Points calculation:
   - Service price: £60
   - Points from spending: 60
   - Completion bonus: 50
   - Total points to award: 110
✅ Reward transaction created successfully
✅ Reward points awarded successfully

📧 SENDING BOOKING CONFIRMATION EMAILS
----------------------------------------
📧 Preparing email data for booking: L4D80491285PUZC
📧 Email data prepared: {
  reference: 'L4D80491285PUZC',
  customer: 'Integration Test User',
  email: 'integration-test@example.com',
  vehicle: 'Ford Focus',
  price: '£60.00'
}
📧 Sending booking confirmation email: { customer: 'Integration Test User', booking: 'L4D80491285PUZC' }
✅ Booking confirmation email triggered (async)

🎉 Booking creation completed successfully
📊 Final response data: {
  "booking_id": "74dbaccf-91a8-416f-b019-a9fe1ae8d884",
  "booking_reference": "L4D80491285PUZC",
  "status": "confirmed",
  "message": "Booking created and auth account set up (profile creation failed) and 110 reward points awarded",
  "account_created": true,
  "user_id": "150a22e0-b806-4bf6-9d2a-49019599d29b",
  "points_awarded": 110,
  "new_tier": "bronze",
  "email_triggered": true
}
📊 Email notification logged: {
  email: 'integration-test@example.com',
  type: 'booking_confirmation',
  subject: 'Booking Confirmed - Your Love4Detailing Service',
  booking: 'L4D80491285PUZC',
  timestamp: '2025-07-13T04:21:33.667Z'
}
✅ Booking confirmation emails sent successfully
✅ Booking confirmation email sent successfully: undefined
🚀 Booking creation API called
📝 Request body: {
  "bookingData": {
    "customer_email": "",
    "customer_name": "Email Failure Test",
    "customer_phone": "07123456789",
    "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
    "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "vehicle_size": "medium",
    "service_address": "123 Test Street, London",
    "vehicle_registration": "FAIL123",
    "vehicle_make": "Test",
    "vehicle_model": "Vehicle",
    "payment_method": "cash"
  }
}
📋 Booking data received: {
  "customer_email": "",
  "customer_name": "Email Failure Test",
  "customer_phone": "07123456789",
  "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "vehicle_size": "medium",
  "service_address": "123 Test Street, London",
  "vehicle_registration": "FAIL123",
  "vehicle_make": "Test",
  "vehicle_model": "Vehicle",
  "payment_method": "cash"
}
🔍 Detailed vehicle data inspection: {
  'bookingData.vehicle_registration': 'FAIL123',
  'bookingData.vehicle_make': 'Test',
  'bookingData.vehicle_model': 'Vehicle',
  'typeof vehicle_registration': 'string',
  'typeof vehicle_make': 'string',
  'typeof vehicle_model': 'string',
  'vehicle_registration length': 7,
  'vehicle_make length': 4,
  'vehicle_model length': 7
}
❌ Missing required fields: [ 'customer_email' ]
 ✓ Compiled /api/auth/login in 106ms (703 modules)
 ✓ Compiled /api/auth/profile in 86ms (705 modules)
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
 ✓ Compiled /api/user/statistics in 57ms (707 modules)
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User statistics calculated successfully
 ✓ Compiled /api/vehicles in 85ms (709 modules)
 ✓ Compiled /api/bookings/available-slots in 51ms (711 modules)
 ✓ Compiled (715 modules)
🔍 Admin services API called
🔍 Admin services API called
🔍 User profile API called
🔍 User profile API called
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: 'medium',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&vehicle_size=medium'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: 'medium',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&vehicle_size=medium'
}
✅ Found 3 services
✅ Found 3 services
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'medium',
  serviceId: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  originalVehicleSize: 'medium',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&service_id=6856143e-eb1d-4776-bf6b-3f6149f36901&vehicle_size=medium'
}
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Querying user profile...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Querying user profile...
✅ Profile data fetched for user: d.dimpauls@gmail.com
✅ Profile data fetched for user: d.dimpauls@gmail.com
✅ Profile data transformed successfully
✅ Successfully fetched user profile with statistics
✅ Profile data transformed successfully
✅ Successfully fetched user profile with statistics
📋 Available slots API called with: {
  date: null,
  startDate: '2025-06-30',
  endDate: '2025-07-30',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-06-30&date_end=2025-07-30&limit=200'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-06-30',
  endDate: '2025-07-30',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-06-30&date_end=2025-07-30&limit=200'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-23',
  endDate: '2025-07-23',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-23&date_end=2025-07-23'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'extra_large',
  serviceId: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  originalVehicleSize: 'extra_large',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&service_id=6856143e-eb1d-4776-bf6b-3f6149f36901&vehicle_size=extra_large'
}
 ✓ Compiled /api/postcode-distance in 70ms (717 modules)
 ✓ Compiled /api/rewards/discount in 66ms (719 modules)
💰 Discount calculation API called
✅ Discount calculated successfully
 ✓ Compiled /api/bookings/enhanced/create in 336ms (767 modules)
🚀 Booking creation API called
📝 Request body: {
  "bookingData": {
    "customer_email": "d.dimpauls@gmail.com",
    "customer_name": "Paul Evans",
    "customer_phone": "07512647532",
    "slot_id": "09427cc4-7590-4725-8707-2e7247db7610",
    "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "vehicle_size": "extra_large",
    "service_address": "188 Bristol Road",
    "service_postcode": "",
    "travel_charge_pence": 0,
    "special_instructions": "",
    "vehicle_registration": "BD24NHL",
    "vehicle_make": "Audi",
    "vehicle_model": "R8",
    "vehicle_year": 2025,
    "vehicle_color": "",
    "vehicle_type": "car",
    "vehicle_special_requirements": "",
    "payment_method": "cash",
    "booking_source": "web",
    "created_via": "customer_booking_flow"
  }
}
📋 Booking data received: {
  "customer_email": "d.dimpauls@gmail.com",
  "customer_name": "Paul Evans",
  "customer_phone": "07512647532",
  "slot_id": "09427cc4-7590-4725-8707-2e7247db7610",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "vehicle_size": "extra_large",
  "service_address": "188 Bristol Road",
  "service_postcode": "",
  "travel_charge_pence": 0,
  "special_instructions": "",
  "vehicle_registration": "BD24NHL",
  "vehicle_make": "Audi",
  "vehicle_model": "R8",
  "vehicle_year": 2025,
  "vehicle_color": "",
  "vehicle_type": "car",
  "vehicle_special_requirements": "",
  "payment_method": "cash",
  "booking_source": "web",
  "created_via": "customer_booking_flow"
}
🔍 Detailed vehicle data inspection: {
  'bookingData.vehicle_registration': 'BD24NHL',
  'bookingData.vehicle_make': 'Audi',
  'bookingData.vehicle_model': 'R8',
  'typeof vehicle_registration': 'string',
  'typeof vehicle_make': 'string',
  'typeof vehicle_model': 'string',
  'vehicle_registration length': 7,
  'vehicle_make length': 4,
  'vehicle_model length': 2
}
✅ All required fields present
🔐 Getting user session...
👤 Current user: d.dimpauls@gmail.com (5288a9a7-b617-44d3-ac4b-69e88b5aff35)
🔑 Creating service role client...
🔍 Account creation decision analysis:
   Current user session: d.dimpauls@gmail.com (5288a9a7-b617-44d3-ac4b-69e88b5aff35)
   Booking email: d.dimpauls@gmail.com
   Emails match: true
   isBookingForCurrentUser: true
   Will create account: false
🔗 Linking booking to current user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔄 Attempting stored procedure booking creation...
🔄 Stored procedure intentionally disabled - using fallback for vehicle creation
❌ Stored procedure error: {
  message: 'Stored procedure disabled - using fallback with vehicle creation'
}
🔄 Using fallback direct booking creation
🔍 Testing database connection...
✅ Database connection test passed
📋 Generated booking reference: L4D80590467J6K7 (15 chars)
🚗 Available vehicle data: {
  vehicle_registration: 'BD24NHL',
  vehicle_make: 'Audi',
  vehicle_model: 'R8',
  vehicle_year: 2025,
  vehicle_color: '',
  vehicle_size: 'extra_large',
  vehicle_type: 'car',
  vehicle_special_requirements: '',
  user_id: '5288a9a7-b617-44d3-ac4b-69e88b5aff35'
}
🚗 Vehicle creation condition check: {
  hasRegistration: true,
  hasMake: true,
  hasModel: true,
  registrationValue: 'BD24NHL',
  makeValue: 'Audi',
  modelValue: 'R8',
  conditionMet: true
}
🚗 Creating vehicle before booking...
✅ Found existing vehicle: 102a7f19-b30a-468f-beb1-d77e088af106
💾 Creating booking record with vehicle_id: 102a7f19-b30a-468f-beb1-d77e088af106
💾 Full booking record: {
  "user_id": "5288a9a7-b617-44d3-ac4b-69e88b5aff35",
  "vehicle_id": "102a7f19-b30a-468f-beb1-d77e088af106",
  "slot_id": "09427cc4-7590-4725-8707-2e7247db7610",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "booking_reference": "L4D80590467J6K7",
  "customer_name": "Paul Evans",
  "customer_email": "d.dimpauls@gmail.com",
  "customer_phone": "07512647532",
  "service_location": "188 Bristol Road",
  "notes": "",
  "customer_instructions": "",
  "payment_method": "cash",
  "status": "confirmed",
  "service_price_pence": 8500,
  "total_price_pence": 8500,
  "created_at": "2025-07-13T04:23:10.586Z",
  "updated_at": "2025-07-13T04:23:10.586Z"
}
✅ Booking created successfully: {
  id: '28092d7c-753f-467c-a9d8-1434c553e73b',
  booking_reference: 'L4D80590467J6K7',
  user_id: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  customer_email: 'd.dimpauls@gmail.com',
  customer_name: 'Paul Evans',
  customer_phone: '07512647532',
  vehicle_id: '102a7f19-b30a-468f-beb1-d77e088af106',
  service_id: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  slot_id: '09427cc4-7590-4725-8707-2e7247db7610',
  status: 'confirmed',
  payment_status: 'pending',
  payment_method: 'cash',
  service_price_pence: 8500,
  discount_pence: 0,
  total_price_pence: 8500,
  confirmed_at: null,
  completed_at: null,
  cancelled_at: null,
  cancellation_reason: null,
  notes: '',
  created_at: '2025-07-13T04:23:10.586+00:00',
  updated_at: '2025-07-13T04:23:10.586+00:00',
  customer_instructions: '',
  service_location: '188 Bristol Road',
  original_slot_id: null,
  current_slot_id: null,
  booking_history: [],
  reschedule_count: 0,
  last_status_change: '2025-07-13T04:23:10.621169+00:00',
  status_change_reason: null,
  created_from_reschedule: false
}
🔍 Final account creation check:
   isBookingForCurrentUser: true
   customer_email: d.dimpauls@gmail.com
   condition (!isBookingForCurrentUser && bookingData.customer_email): false
❌ Account creation skipped - conditions not met
❌ Debug values: {
  isBookingForCurrentUser: true,
  hasEmail: true,
  email: 'd.dimpauls@gmail.com',
  conditionMet: false
}
✅ Vehicle creation completed earlier - vehicle_id: 102a7f19-b30a-468f-beb1-d77e088af106

💰 REWARDING POINTS FOR BOOKING
------------------------------
🎁 Awarding reward points for booking completion
💰 Points calculation:
   - Service price: £85
   - Points from spending: 85
   - Completion bonus: 50
   - Total points to award: 135
✅ Reward transaction created successfully
✅ Reward points awarded successfully

📧 SENDING BOOKING CONFIRMATION EMAILS
----------------------------------------
📧 Preparing email data for booking: L4D80590467J6K7
📧 Email data prepared: {
  reference: 'L4D80590467J6K7',
  customer: 'Paul Evans',
  email: 'd.dimpauls@gmail.com',
  vehicle: 'Audi R8',
  price: '£85.00'
}
📧 Sending booking confirmation email: { customer: 'Paul Evans', booking: 'L4D80590467J6K7' }
✅ Booking confirmation email triggered (async)

🎉 Booking creation completed successfully
📊 Final response data: {
  "booking_id": "28092d7c-753f-467c-a9d8-1434c553e73b",
  "booking_reference": "L4D80590467J6K7",
  "status": "confirmed",
  "message": "Booking created successfully and 135 reward points awarded",
  "points_awarded": 135,
  "new_tier": "silver",
  "email_triggered": true
}
📊 Email notification logged: {
  email: 'd.dimpauls@gmail.com',
  type: 'booking_confirmation',
  subject: 'Booking Confirmed - Your Love4Detailing Service',
  booking: 'L4D80590467J6K7',
  timestamp: '2025-07-13T04:23:13.112Z'
}
✅ Booking confirmation emails sent successfully
✅ Booking confirmation email sent successfully: 25c7c414-02cd-4f23-a6d4-081231de0678
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User statistics calculated successfully
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
 ✓ Compiled /api/user/bookings in 82ms (769 modules)
🔍 User bookings API called
🔍 User bookings API called
🔍 User bookings API called
🔍 User bookings API called
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
📊 Found 5 bookings for user
✅ Transformed 5 bookings for frontend
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
📊 Found 5 bookings for user
✅ Transformed 5 bookings for frontend
📊 Found 3 bookings for user
✅ Transformed 3 bookings for frontend
📊 Found 3 bookings for user
✅ Transformed 3 bookings for frontend
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 5,
  totalCount: 6
}
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 3,
  totalCount: 6
}
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 3,
  totalCount: 6
}
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 5,
  totalCount: 6
}
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User statistics calculated successfully
✅ User statistics calculated successfully
✅ User statistics calculated successfully
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User statistics calculated successfully
🔍 User bookings API called
🔍 User bookings API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
📊 Found 6 bookings for user
✅ Transformed 6 bookings for frontend
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 6,
  totalCount: 6
}
📊 Found 6 bookings for user
✅ Transformed 6 bookings for frontend
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 6,
  totalCount: 6
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-08-12',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?start_date=2025-07-13&end_date=2025-08-12'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-08-12',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?start_date=2025-07-13&end_date=2025-08-12'
}
 ✓ Compiled /api/bookings/[bookingId]/reschedule in 130ms (759 modules)
(node:45630) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
API Debug Info: {
  currentUserId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  currentUserEmail: 'd.dimpauls@gmail.com',
  requestedBookingId: '28092d7c-753f-467c-a9d8-1434c553e73b',
  timestamp: '2025-07-13T04:26:40.786Z'
}
🔍 Checking slot availability: {
  newSlotId: '1845e8a6-000f-4c6d-9e98-acdc2988abe8',
  timestamp: '2025-07-13T04:26:40.821Z'
}
🔍 Slot lookup result: {
  found: true,
  error: undefined,
  slotData: {
    id: '1845e8a6-000f-4c6d-9e98-acdc2988abe8',
    slot_date: '2025-07-24',
    start_time: '10:00:00',
    is_blocked: false,
    max_bookings: 1,
    current_bookings: 0
  }
}
📧 Reschedule request simulation: {
  bookingId: '28092d7c-753f-467c-a9d8-1434c553e73b',
  bookingReference: 'L4D80590467J6K7',
  newSlotId: '1845e8a6-000f-4c6d-9e98-acdc2988abe8',
  newSlotDate: '2025-07-24',
  newSlotTime: '10:00:00',
  reason: 'Schedule conflict',
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35'
}
🔍 User bookings API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
📊 Found 6 bookings for user
✅ Transformed 6 bookings for frontend
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 6,
  totalCount: 6
}
 ○ Compiling / ...
 ✓ Compiled / in 688ms (1374 modules)
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
 ⚠ The "images.domains" configuration is deprecated. Please use "images.remotePatterns" configuration instead.
 ✓ Compiled /api/services in 82ms (793 modules)
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
 ✓ Compiled /auth/login in 161ms (1387 modules)
Auth user: c14dbb9f-fc80-488c-9435-a1af85855d53 paul@evans-studio.co.uk
🔍 User statistics API called
✅ User authenticated: c14dbb9f-fc80-488c-9435-a1af85855d53 paul@evans-studio.co.uk
✅ User statistics calculated successfully
 ✓ Compiled /auth/callback in 137ms (802 modules)
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
 ✓ Compiled /admin in 222ms (1423 modules)
 ✓ Compiled /api/admin/notifications in 77ms (815 modules)
 ✓ Compiled (817 modules)
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
🔍 Admin booking dashboard GET called
🔍 Fetching dashboard data with params: {
  admin_id: 'c14dbb9f-fc80-488c-9435-a1af85855d53',
  date_filter: '2025-07-13',
  status_filter: null
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
📅 Found slots for date: 2025-07-13 0
✅ No slots found for date: 2025-07-13
🔍 Admin booking dashboard GET called
🔍 Fetching dashboard data with params: {
  admin_id: 'c14dbb9f-fc80-488c-9435-a1af85855d53',
  date_filter: '2025-07-13',
  status_filter: null
}
🔍 Admin booking dashboard GET called
🔍 Fetching dashboard data with params: {
  admin_id: 'c14dbb9f-fc80-488c-9435-a1af85855d53',
  date_filter: '2025-07-13',
  status_filter: null
}
🔍 Admin booking dashboard GET called
🔍 Fetching dashboard data with params: {
  admin_id: 'c14dbb9f-fc80-488c-9435-a1af85855d53',
  date_filter: '2025-07-13',
  status_filter: null
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
📅 Found slots for date: 2025-07-13 0
✅ No slots found for date: 2025-07-13
📅 Found slots for date: 2025-07-13 0
✅ No slots found for date: 2025-07-13
📅 Found slots for date: 2025-07-13 0
✅ No slots found for date: 2025-07-13
 ✓ Compiled /admin/bookings/history in 198ms (1417 modules)
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
 ✓ Compiled /api/admin/bookings/history in 91ms (804 modules)
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
🔍 Admin booking history GET called
🔍 Fetching booking history for range: {
  range: '30d',
  startDate: 2025-06-13T04:27:11.804Z,
  endDate: 2025-07-13T04:27:11.804Z
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
📊 Found booking history: 18
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
✅ Booking history fetched successfully: {
  bookings_count: 18,
  stats: {
    total_bookings: 18,
    completed_bookings: 3,
    cancelled_bookings: 0,
    pending_bookings: 0,
    total_revenue_pence: 25500,
    avg_booking_value_pence: 7361
  }
}
🔍 Admin booking history GET called
🔍 Fetching booking history for range: {
  range: '30d',
  startDate: 2025-06-13T04:27:11.994Z,
  endDate: 2025-07-13T04:27:11.994Z
}
📊 Found booking history: 18
✅ Booking history fetched successfully: {
  bookings_count: 18,
  stats: {
    total_bookings: 18,
    completed_bookings: 3,
    cancelled_bookings: 0,
    pending_bookings: 0,
    total_revenue_pence: 25500,
    avg_booking_value_pence: 7361
  }
}
 ✓ Compiled /admin/bookings in 210ms (1439 modules)
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
🔍 Admin booking dashboard GET called
🔍 Fetching dashboard data with params: {
  admin_id: 'c14dbb9f-fc80-488c-9435-a1af85855d53',
  date_filter: '2025-07-13',
  status_filter: null
}
🔍 Admin booking dashboard GET called
🔍 Fetching dashboard data with params: {
  admin_id: 'c14dbb9f-fc80-488c-9435-a1af85855d53',
  date_filter: '2025-07-13',
  status_filter: null
}
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📅 Found slots for date: 2025-07-13 0
✅ No slots found for date: 2025-07-13
📅 Found slots for date: 2025-07-13 0
✅ No slots found for date: 2025-07-13
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
 ✓ Compiled /api/admin/pending-slot-actions in 96ms (817 modules)
Error fetching reschedule requests: {
  code: 'PGRST200',
  details: "Searched for a foreign key relationship between 'reschedule_requests' and 'customer_id' in the schema 'public', but no matches were found.",
  hint: null,
  message: "Could not find a relationship between 'reschedule_requests' and 'customer_id' in the schema cache"
}
Error fetching reschedule requests: {
  code: 'PGRST200',
  details: "Searched for a foreign key relationship between 'reschedule_requests' and 'customer_id' in the schema 'public', but no matches were found.",
  hint: null,
  message: "Could not find a relationship between 'reschedule_requests' and 'customer_id' in the schema cache"
}
Error fetching expired reservations: {
  code: '42703',
  details: null,
  hint: null,
  message: 'column available_slots.modification_reason does not exist'
}
Error fetching expired reservations: {
  code: '42703',
  details: null,
  hint: null,
  message: 'column available_slots.modification_reason does not exist'
}
Error fetching recent cancellations: {
  code: '42703',
  details: null,
  hint: null,
  message: 'column available_slots.modification_reason does not exist'
}
Error fetching recent cancellations: {
  code: '42703',
  details: null,
  hint: null,
  message: 'column available_slots.modification_reason does not exist'
}
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
🔍 Admin booking history GET called
🔍 Fetching booking history for range: {
  range: '30d',
  startDate: 2025-06-13T04:27:21.258Z,
  endDate: 2025-07-13T04:27:21.258Z
}
🔍 Admin booking history GET called
🔍 Fetching booking history for range: {
  range: '30d',
  startDate: 2025-06-13T04:27:21.259Z,
  endDate: 2025-07-13T04:27:21.259Z
}
📊 Found booking history: 18
📊 Found booking history: 18
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
✅ Booking history fetched successfully: {
  bookings_count: 18,
  stats: {
    total_bookings: 18,
    completed_bookings: 3,
    cancelled_bookings: 0,
    pending_bookings: 0,
    total_revenue_pence: 25500,
    avg_booking_value_pence: 7361
  }
}
✅ Booking history fetched successfully: {
  bookings_count: 18,
  stats: {
    total_bookings: 18,
    completed_bookings: 3,
    cancelled_bookings: 0,
    pending_bookings: 0,
    total_revenue_pence: 25500,
    avg_booking_value_pence: 7361
  }
}
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
Auth user: c14dbb9f-fc80-488c-9435-a1af85855d53 paul@evans-studio.co.uk
🔍 User statistics API called
✅ User authenticated: c14dbb9f-fc80-488c-9435-a1af85855d53 paul@evans-studio.co.uk
✅ User statistics calculated successfully
 ✓ Compiled /admin/services in 465ms (1372 modules)
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
 ✓ Compiled /api/admin/services in 117ms (744 modules)
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
🔍 Admin services API called
🔍 Admin services API called
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
✅ Found 3 services
✅ Found 3 services
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
 ✓ Compiled /admin/services/[serviceId]/edit in 384ms (1375 modules)
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
 ✓ Compiled /api/admin/services/[serviceId] in 75ms (743 modules)
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
🔍 Admin service detail API called for: 6856143e-eb1d-4776-bf6b-3f6149f36901
🔍 Admin service detail API called for: 6856143e-eb1d-4776-bf6b-3f6149f36901
(node:45783) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
✅ Service found: Full Valet
✅ Service found: Full Valet
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
🔍 Admin services API called
🔍 Admin services API called
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
✅ Found 3 services
✅ Found 3 services
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
🔍 Admin service PATCH called for 6856143e-eb1d-4776-bf6b-3f6149f36901 with action: toggle_active
✅ Service deactivated: 6856143e-eb1d-4776-bf6b-3f6149f36901
(node:45797) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
 ✓ Compiled /api/services in 77ms (745 modules)
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: c14dbb9f-fc80-488c-9435-a1af85855d53 paul@evans-studio.co.uk
🔍 User statistics API called
✅ User authenticated: c14dbb9f-fc80-488c-9435-a1af85855d53 paul@evans-studio.co.uk
✅ User statistics calculated successfully
 ✓ Compiled /auth/callback in 125ms (747 modules)
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
 ✓ Compiled in 225ms (648 modules)
 ✓ Compiled in 173ms (648 modules)
 ✓ Compiled in 170ms (648 modules)
 ✓ Compiled in 164ms (648 modules)
 ✓ Compiled /api/admin/bookings/dashboard in 152ms (625 modules)
🔍 Admin booking dashboard GET called
🔍 Fetching dashboard data with params: { admin_id: 'test', date_filter: '2025-07-13', status_filter: null }
📅 Found slots for date: 2025-07-13 0
✅ No slots found for date: 2025-07-13
 ✓ Compiled /api/admin/pending-slot-actions in 68ms (721 modules)
 ○ Compiling /admin/schedule ...
 ✓ Compiled /admin/schedule in 640ms (1370 modules)
 ✓ Compiled /api/admin/schedule in 63ms (732 modules)
 ✓ Compiled (734 modules)
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
🔍 Admin schedule GET called
🔍 Schedule params: { startDate: '2025-07-07', endDate: '2025-07-11', adminId: null }
🔍 Fetching time slots for date range: { startDate: '2025-07-07', endDate: '2025-07-11' }
🔍 Admin schedule GET called
🔍 Schedule params: { startDate: '2025-07-07', endDate: '2025-07-11', adminId: null }
🔍 Fetching time slots for date range: { startDate: '2025-07-07', endDate: '2025-07-11' }
📊 Found time slots: 2
✅ Schedule slots fetched successfully: { total: 2, available: 2, booked: 0, unavailable: 0 }
📊 Found time slots: 2
✅ Schedule slots fetched successfully: { total: 2, available: 2, booked: 0, unavailable: 0 }
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
 ✓ Compiled /admin/bookings in 93ms (752 modules)
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
🔍 Admin booking dashboard GET called
🔍 Fetching dashboard data with params: {
  admin_id: 'c14dbb9f-fc80-488c-9435-a1af85855d53',
  date_filter: '2025-07-13',
  status_filter: null
}
🔍 Admin booking dashboard GET called
🔍 Fetching dashboard data with params: {
  admin_id: 'c14dbb9f-fc80-488c-9435-a1af85855d53',
  date_filter: '2025-07-13',
  status_filter: null
}
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📅 Found slots for date: 2025-07-13 0
✅ No slots found for date: 2025-07-13
📅 Found slots for date: 2025-07-13 0
✅ No slots found for date: 2025-07-13
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
Error fetching reschedule requests: {
  code: 'PGRST200',
  details: "Searched for a foreign key relationship between 'reschedule_requests' and 'customer_id' in the schema 'public', but no matches were found.",
  hint: null,
  message: "Could not find a relationship between 'reschedule_requests' and 'customer_id' in the schema cache"
}
Error fetching reschedule requests: {
  code: 'PGRST200',
  details: "Searched for a foreign key relationship between 'reschedule_requests' and 'customer_id' in the schema 'public', but no matches were found.",
  hint: null,
  message: "Could not find a relationship between 'reschedule_requests' and 'customer_id' in the schema cache"
}
Error fetching expired reservations: {
  code: '42703',
  details: null,
  hint: null,
  message: 'column available_slots.modification_reason does not exist'
}
Error fetching expired reservations: {
  code: '42703',
  details: null,
  hint: null,
  message: 'column available_slots.modification_reason does not exist'
}
Error fetching recent cancellations: {
  code: '42703',
  details: null,
  hint: null,
  message: 'column available_slots.modification_reason does not exist'
}
Error fetching recent cancellations: {
  code: '42703',
  details: null,
  hint: null,
  message: 'column available_slots.modification_reason does not exist'
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
 ✓ Compiled /api/services in 97ms (740 modules)
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
 ✓ Compiled /api/auth/login in 136ms (743 modules)
 ✓ Compiled /api/auth/profile in 67ms (745 modules)
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
 ✓ Compiled /api/user/statistics in 61ms (747 modules)
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User statistics calculated successfully
 ✓ Compiled /auth/callback in 65ms (749 modules)
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
 ✓ Compiled /dashboard in 109ms (760 modules)
 ✓ Compiled /api/user/bookings in 79ms (762 modules)
🔍 User bookings API called
🔍 User bookings API called
🔍 User bookings API called
🔍 User bookings API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
📊 Found 3 bookings for user
✅ Transformed 3 bookings for frontend
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
📊 Found 5 bookings for user
✅ Transformed 5 bookings for frontend
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 3,
  totalCount: 6
}
📊 Found 5 bookings for user
✅ Transformed 5 bookings for frontend
📊 Found 3 bookings for user
✅ Transformed 3 bookings for frontend
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 5,
  totalCount: 6
}
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 3,
  totalCount: 6
}
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 5,
  totalCount: 6
}
 ✓ Compiled /booking in 88ms (783 modules)
 ✓ Compiled /api/bookings/available-slots in 78ms (785 modules)
 ✓ Compiled (789 modules)
🔍 Admin services API called
🔍 Admin services API called
🔍 User profile API called
🔍 User profile API called
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: 'medium',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&vehicle_size=medium'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: 'medium',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&vehicle_size=medium'
}
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Querying user profile...
✅ Found 3 services
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Querying user profile...
✅ Profile data fetched for user: d.dimpauls@gmail.com
✅ Found 3 services
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'medium',
  serviceId: 'b5c0cdd2-ac62-4664-89f2-4bd95032b41c',
  originalVehicleSize: 'medium',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&service_id=b5c0cdd2-ac62-4664-89f2-4bd95032b41c&vehicle_size=medium'
}
✅ Profile data fetched for user: d.dimpauls@gmail.com
No service found for ID: 6856143e-eb1d-4776-bf6b-3f6149f36901
✅ Profile data transformed successfully
✅ Successfully fetched user profile with statistics
No service found for ID: 6856143e-eb1d-4776-bf6b-3f6149f36901
✅ Profile data transformed successfully
✅ Successfully fetched user profile with statistics
 ✓ Compiled /api/vehicles in 95ms (791 modules)
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'medium',
  serviceId: '97faa549-387e-4595-bd07-08ae605445d0',
  originalVehicleSize: 'medium',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&service_id=97faa549-387e-4595-bd07-08ae605445d0&vehicle_size=medium'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-06-30',
  endDate: '2025-07-30',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-06-30&date_end=2025-07-30&limit=200'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-06-30',
  endDate: '2025-07-30',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-06-30&date_end=2025-07-30&limit=200'
}
No service found for ID: 6856143e-eb1d-4776-bf6b-3f6149f36901
No service found for ID: 6856143e-eb1d-4776-bf6b-3f6149f36901
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-16',
  endDate: '2025-07-16',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-16&date_end=2025-07-16'
}
No service found for ID: 6856143e-eb1d-4776-bf6b-3f6149f36901
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'extra_large',
  serviceId: '97faa549-387e-4595-bd07-08ae605445d0',
  originalVehicleSize: 'extra_large',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&service_id=97faa549-387e-4595-bd07-08ae605445d0&vehicle_size=extra_large'
}
 ✓ Compiled /api/postcode-distance in 95ms (788 modules)
 ✓ Compiled /api/rewards/discount in 89ms (788 modules)
💰 Discount calculation API called
✅ Discount calculated successfully
 ✓ Compiled in 244ms (654 modules)
 ✓ Compiled /api/bookings/enhanced/create in 206ms (836 modules)
🚀 Booking creation API called
📝 Request body: {
  "bookingData": {
    "customer_email": "d.dimpauls@gmail.com",
    "customer_name": "Paul Evans",
    "customer_phone": "07512647532",
    "slot_id": "490fcdcd-a6fc-41a0-a261-e7798b72e5db",
    "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "vehicle_size": "extra_large",
    "service_address": "188 Bristol Road",
    "service_postcode": "",
    "travel_charge_pence": 0,
    "special_instructions": "",
    "vehicle_registration": "BD24NHL",
    "vehicle_make": "Audi",
    "vehicle_model": "R8",
    "vehicle_year": 2025,
    "vehicle_color": "",
    "vehicle_type": "car",
    "vehicle_special_requirements": "",
    "payment_method": "cash",
    "booking_source": "web",
    "created_via": "customer_booking_flow"
  }
}
📋 Booking data received: {
  "customer_email": "d.dimpauls@gmail.com",
  "customer_name": "Paul Evans",
  "customer_phone": "07512647532",
  "slot_id": "490fcdcd-a6fc-41a0-a261-e7798b72e5db",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "vehicle_size": "extra_large",
  "service_address": "188 Bristol Road",
  "service_postcode": "",
  "travel_charge_pence": 0,
  "special_instructions": "",
  "vehicle_registration": "BD24NHL",
  "vehicle_make": "Audi",
  "vehicle_model": "R8",
  "vehicle_year": 2025,
  "vehicle_color": "",
  "vehicle_type": "car",
  "vehicle_special_requirements": "",
  "payment_method": "cash",
  "booking_source": "web",
  "created_via": "customer_booking_flow"
}
🔍 Detailed vehicle data inspection: {
  'bookingData.vehicle_registration': 'BD24NHL',
  'bookingData.vehicle_make': 'Audi',
  'bookingData.vehicle_model': 'R8',
  'typeof vehicle_registration': 'string',
  'typeof vehicle_make': 'string',
  'typeof vehicle_model': 'string',
  'vehicle_registration length': 7,
  'vehicle_make length': 4,
  'vehicle_model length': 2
}
✅ All required fields present
🔐 Getting user session...
👤 Current user: d.dimpauls@gmail.com (5288a9a7-b617-44d3-ac4b-69e88b5aff35)
🔑 Creating service role client...
🔍 Account creation decision analysis:
   Current user session: d.dimpauls@gmail.com (5288a9a7-b617-44d3-ac4b-69e88b5aff35)
   Booking email: d.dimpauls@gmail.com
   Emails match: true
   isBookingForCurrentUser: true
   Will create account: false
🔗 Linking booking to current user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔄 Attempting stored procedure booking creation...
🔄 Stored procedure intentionally disabled - using fallback for vehicle creation
❌ Stored procedure error: {
  message: 'Stored procedure disabled - using fallback with vehicle creation'
}
🔄 Using fallback direct booking creation
🔍 Testing database connection...
✅ Database connection test passed
📋 Generated booking reference: L4D81175556K7U3 (15 chars)
🚗 Available vehicle data: {
  vehicle_registration: 'BD24NHL',
  vehicle_make: 'Audi',
  vehicle_model: 'R8',
  vehicle_year: 2025,
  vehicle_color: '',
  vehicle_size: 'extra_large',
  vehicle_type: 'car',
  vehicle_special_requirements: '',
  user_id: '5288a9a7-b617-44d3-ac4b-69e88b5aff35'
}
🚗 Vehicle creation condition check: {
  hasRegistration: true,
  hasMake: true,
  hasModel: true,
  registrationValue: 'BD24NHL',
  makeValue: 'Audi',
  modelValue: 'R8',
  conditionMet: true
}
🚗 Creating vehicle before booking...
✅ Found existing vehicle: 102a7f19-b30a-468f-beb1-d77e088af106
💾 Creating booking record with vehicle_id: 102a7f19-b30a-468f-beb1-d77e088af106
💾 Full booking record: {
  "user_id": "5288a9a7-b617-44d3-ac4b-69e88b5aff35",
  "vehicle_id": "102a7f19-b30a-468f-beb1-d77e088af106",
  "slot_id": "490fcdcd-a6fc-41a0-a261-e7798b72e5db",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "booking_reference": "L4D81175556K7U3",
  "customer_name": "Paul Evans",
  "customer_email": "d.dimpauls@gmail.com",
  "customer_phone": "07512647532",
  "service_location": "188 Bristol Road",
  "notes": "",
  "customer_instructions": "",
  "payment_method": "cash",
  "status": "confirmed",
  "service_price_pence": 8500,
  "total_price_pence": 8500,
  "created_at": "2025-07-13T04:32:55.668Z",
  "updated_at": "2025-07-13T04:32:55.668Z"
}
✅ Booking created successfully: {
  id: '24e54215-4986-44f5-a43d-eaedaf78a227',
  booking_reference: 'L4D81175556K7U3',
  user_id: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  customer_email: 'd.dimpauls@gmail.com',
  customer_name: 'Paul Evans',
  customer_phone: '07512647532',
  vehicle_id: '102a7f19-b30a-468f-beb1-d77e088af106',
  service_id: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  slot_id: '490fcdcd-a6fc-41a0-a261-e7798b72e5db',
  status: 'confirmed',
  payment_status: 'pending',
  payment_method: 'cash',
  service_price_pence: 8500,
  discount_pence: 0,
  total_price_pence: 8500,
  confirmed_at: null,
  completed_at: null,
  cancelled_at: null,
  cancellation_reason: null,
  notes: '',
  created_at: '2025-07-13T04:32:55.668+00:00',
  updated_at: '2025-07-13T04:32:55.668+00:00',
  customer_instructions: '',
  service_location: '188 Bristol Road',
  original_slot_id: null,
  current_slot_id: null,
  booking_history: [],
  reschedule_count: 0,
  last_status_change: '2025-07-13T04:32:55.699898+00:00',
  status_change_reason: null,
  created_from_reschedule: false
}
🔍 Final account creation check:
   isBookingForCurrentUser: true
   customer_email: d.dimpauls@gmail.com
   condition (!isBookingForCurrentUser && bookingData.customer_email): false
❌ Account creation skipped - conditions not met
❌ Debug values: {
  isBookingForCurrentUser: true,
  hasEmail: true,
  email: 'd.dimpauls@gmail.com',
  conditionMet: false
}
✅ Vehicle creation completed earlier - vehicle_id: 102a7f19-b30a-468f-beb1-d77e088af106

💰 REWARDING POINTS FOR BOOKING
------------------------------
🎁 Awarding reward points for booking completion
💰 Points calculation:
   - Service price: £85
   - Points from spending: 85
   - Completion bonus: 50
   - Total points to award: 135
✅ Reward transaction created successfully
✅ Reward points awarded successfully

📧 SENDING BOOKING CONFIRMATION EMAILS
----------------------------------------
📧 Preparing email data for booking: L4D81175556K7U3
📧 Email data prepared: {
  reference: 'L4D81175556K7U3',
  customer: 'Paul Evans',
  email: 'd.dimpauls@gmail.com',
  vehicle: 'Audi R8',
  price: '£85.00'
}
📧 Sending booking confirmation email: { customer: 'Paul Evans', booking: 'L4D81175556K7U3' }
✅ Booking confirmation email triggered (async)

🎉 Booking creation completed successfully
📊 Final response data: {
  "booking_id": "24e54215-4986-44f5-a43d-eaedaf78a227",
  "booking_reference": "L4D81175556K7U3",
  "status": "confirmed",
  "message": "Booking created successfully and 135 reward points awarded",
  "points_awarded": 135,
  "new_tier": "silver",
  "email_triggered": true
}
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User statistics calculated successfully
🔍 User bookings API called
🔍 User bookings API called
🔍 User bookings API called
🔍 User bookings API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
📊 Found 3 bookings for user
✅ Transformed 3 bookings for frontend
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
📊 Found 5 bookings for user
✅ Transformed 5 bookings for frontend
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 3,
  totalCount: 7
}
📊 Email notification logged: {
  email: 'd.dimpauls@gmail.com',
  type: 'booking_confirmation',
  subject: 'Booking Confirmed - Your Love4Detailing Service',
  booking: 'L4D81175556K7U3',
  timestamp: '2025-07-13T04:32:58.416Z'
}
✅ Booking confirmation emails sent successfully
✅ Booking confirmation email sent successfully: 2d863102-8a5d-4acc-bbc8-ffe921c414f4
📊 Found 3 bookings for user
✅ Transformed 3 bookings for frontend
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 5,
  totalCount: 7
}
📊 Found 5 bookings for user
✅ Transformed 5 bookings for frontend
🔍 User statistics API called
🔍 User statistics API called
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 3,
  totalCount: 7
}
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 5,
  totalCount: 7
}
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User statistics calculated successfully
✅ User statistics calculated successfully
✅ User statistics calculated successfully
 ✓ Compiled in 284ms (1484 modules)
 ✓ Compiled /dashboard/bookings in 101ms (839 modules)
🔍 User bookings API called
🔍 User bookings API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
📊 Found 7 bookings for user
✅ Transformed 7 bookings for frontend
📊 Found 7 bookings for user
✅ Transformed 7 bookings for frontend
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 7,
  totalCount: 7
}
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 7,
  totalCount: 7
}
 ✓ Compiled in 243ms (1493 modules)
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User statistics calculated successfully
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-08-12',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?start_date=2025-07-13&end_date=2025-08-12'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-08-12',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?start_date=2025-07-13&end_date=2025-08-12'
}
No service found for ID: 6856143e-eb1d-4776-bf6b-3f6149f36901
No service found for ID: 6856143e-eb1d-4776-bf6b-3f6149f36901
 ✓ Compiled in 326ms (1493 modules)
 ✓ Compiled /api/bookings/[bookingId]/reschedule in 105ms (803 modules)
API Debug Info: {
  currentUserId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  currentUserEmail: 'd.dimpauls@gmail.com',
  requestedBookingId: '24e54215-4986-44f5-a43d-eaedaf78a227',
  timestamp: '2025-07-13T04:33:27.149Z'
}
(node:46061) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
🔍 Checking slot availability: {
  newSlotId: '780ac9a6-2659-4a3b-9eba-7236972bfa44',
  timestamp: '2025-07-13T04:33:27.183Z'
}
🔍 Slot lookup result: {
  found: true,
  error: undefined,
  slotData: {
    id: '780ac9a6-2659-4a3b-9eba-7236972bfa44',
    slot_date: '2025-07-15',
    start_time: '14:00:00',
    is_blocked: false,
    max_bookings: 1,
    current_bookings: 0
  }
}
📧 Creating reschedule request: {
  bookingId: '24e54215-4986-44f5-a43d-eaedaf78a227',
  bookingReference: 'L4D81175556K7U3',
  newSlotId: '780ac9a6-2659-4a3b-9eba-7236972bfa44',
  newSlotDate: '2025-07-15',
  newSlotTime: '14:00:00',
  reason: 'Customer request',
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35'
}
❌ Failed to update booking with reschedule request: {
  code: '22P02',
  details: null,
  hint: null,
  message: 'invalid input value for enum booking_status: "reschedule_requested"'
}
🔍 User bookings API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
📊 Found 7 bookings for user
✅ Transformed 7 bookings for frontend
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 7,
  totalCount: 7
}
 ✓ Compiled in 252ms (1451 modules)
 ✓ Compiled in 233ms (1451 modules)
 ✓ Compiled in 461ms (1451 modules)
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User statistics calculated successfully
 ✓ Compiled / in 89ms (818 modules)
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
 ✓ Compiled /api/services in 71ms (820 modules)
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
 ✓ Compiled /auth/login in 93ms (827 modules)
Auth user: c14dbb9f-fc80-488c-9435-a1af85855d53 paul@evans-studio.co.uk
🔍 User statistics API called
✅ User authenticated: c14dbb9f-fc80-488c-9435-a1af85855d53 paul@evans-studio.co.uk
✅ User statistics calculated successfully
 ✓ Compiled /auth/callback in 91ms (819 modules)
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
 ✓ Compiled /admin in 92ms (826 modules)
 ✓ Compiled /api/admin/notifications in 78ms (828 modules)
 ✓ Compiled (830 modules)
🔍 Admin booking dashboard GET called
🔍 Fetching dashboard data with params: {
  admin_id: 'c14dbb9f-fc80-488c-9435-a1af85855d53',
  date_filter: '2025-07-13',
  status_filter: null
}
🔍 Admin booking dashboard GET called
🔍 Fetching dashboard data with params: {
  admin_id: 'c14dbb9f-fc80-488c-9435-a1af85855d53',
  date_filter: '2025-07-13',
  status_filter: null
}
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📅 Found slots for date: 2025-07-13 0
✅ No slots found for date: 2025-07-13
🔍 Admin booking dashboard GET called
🔍 Fetching dashboard data with params: {
  admin_id: 'c14dbb9f-fc80-488c-9435-a1af85855d53',
  date_filter: '2025-07-13',
  status_filter: null
}
📅 Found slots for date: 2025-07-13 0
✅ No slots found for date: 2025-07-13
🔍 Admin booking dashboard GET called
🔍 Fetching dashboard data with params: {
  admin_id: 'c14dbb9f-fc80-488c-9435-a1af85855d53',
  date_filter: '2025-07-13',
  status_filter: null
}
📅 Found slots for date: 2025-07-13 0
✅ No slots found for date: 2025-07-13
📅 Found slots for date: 2025-07-13 0
✅ No slots found for date: 2025-07-13
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
 ✓ Compiled /admin/schedule in 82ms (840 modules)
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
 ✓ Compiled /api/admin/schedule in 98ms (842 modules)
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
🔍 Admin schedule GET called
🔍 Schedule params: { startDate: '2025-07-07', endDate: '2025-07-11', adminId: null }
🔍 Fetching time slots for date range: { startDate: '2025-07-07', endDate: '2025-07-11' }
🔍 Admin schedule GET called
🔍 Schedule params: { startDate: '2025-07-07', endDate: '2025-07-11', adminId: null }
🔍 Fetching time slots for date range: { startDate: '2025-07-07', endDate: '2025-07-11' }
📊 Found time slots: 2
✅ Schedule slots fetched successfully: { total: 2, available: 2, booked: 0, unavailable: 0 }
📊 Found time slots: 2
✅ Schedule slots fetched successfully: { total: 2, available: 2, booked: 0, unavailable: 0 }
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
🔍 Admin booking dashboard GET called
🔍 Fetching dashboard data with params: {
  admin_id: 'c14dbb9f-fc80-488c-9435-a1af85855d53',
  date_filter: '2025-07-13',
  status_filter: null
}
🔍 Admin booking dashboard GET called
🔍 Fetching dashboard data with params: {
  admin_id: 'c14dbb9f-fc80-488c-9435-a1af85855d53',
  date_filter: '2025-07-13',
  status_filter: null
}
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📅 Found slots for date: 2025-07-13 0
✅ No slots found for date: 2025-07-13
📅 Found slots for date: 2025-07-13 0
✅ No slots found for date: 2025-07-13
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
 ✓ Compiled /api/admin/pending-slot-actions in 95ms (844 modules)
Error fetching reschedule requests: {
  code: 'PGRST200',
  details: "Searched for a foreign key relationship between 'reschedule_requests' and 'customer_id' in the schema 'public', but no matches were found.",
  hint: null,
  message: "Could not find a relationship between 'reschedule_requests' and 'customer_id' in the schema cache"
}
Error fetching reschedule requests: {
  code: 'PGRST200',
  details: "Searched for a foreign key relationship between 'reschedule_requests' and 'customer_id' in the schema 'public', but no matches were found.",
  hint: null,
  message: "Could not find a relationship between 'reschedule_requests' and 'customer_id' in the schema cache"
}
Error fetching expired reservations: {
  code: '42703',
  details: null,
  hint: null,
  message: 'column available_slots.modification_reason does not exist'
}
Error fetching recent cancellations: {
  code: '42703',
  details: null,
  hint: null,
  message: 'column available_slots.modification_reason does not exist'
}
Error fetching expired reservations: {
  code: '42703',
  details: null,
  hint: null,
  message: 'column available_slots.modification_reason does not exist'
}
Error fetching recent cancellations: {
  code: '42703',
  details: null,
  hint: null,
  message: 'column available_slots.modification_reason does not exist'
}
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
 ✓ Compiled /api/bookings/enhanced/create in 83ms (833 modules)
🚀 Booking creation API called
📝 Request body: {
  "bookingData": {
    "customer_email": "reschedule-test@example.com",
    "customer_name": "Reschedule Test User",
    "customer_phone": "07123456789",
    "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
    "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "vehicle_size": "medium",
    "service_address": "123 Reschedule Test Street, London",
    "vehicle_registration": "RSC123",
    "vehicle_make": "Toyota",
    "vehicle_model": "Prius",
    "vehicle_year": 2023,
    "vehicle_color": "Silver",
    "payment_method": "cash"
  }
}
📋 Booking data received: {
  "customer_email": "reschedule-test@example.com",
  "customer_name": "Reschedule Test User",
  "customer_phone": "07123456789",
  "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "vehicle_size": "medium",
  "service_address": "123 Reschedule Test Street, London",
  "vehicle_registration": "RSC123",
  "vehicle_make": "Toyota",
  "vehicle_model": "Prius",
  "vehicle_year": 2023,
  "vehicle_color": "Silver",
  "payment_method": "cash"
}
🔍 Detailed vehicle data inspection: {
  'bookingData.vehicle_registration': 'RSC123',
  'bookingData.vehicle_make': 'Toyota',
  'bookingData.vehicle_model': 'Prius',
  'typeof vehicle_registration': 'string',
  'typeof vehicle_make': 'string',
  'typeof vehicle_model': 'string',
  'vehicle_registration length': 6,
  'vehicle_make length': 6,
  'vehicle_model length': 5
}
✅ All required fields present
🔐 Getting user session...
⚠️  User session error: AuthSessionMissingError: Auth session missing!
    at /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1049:59
    at SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:26)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🔑 Creating service role client...
🔍 Account creation decision analysis:
   Current user session: No user session
   Booking email: reschedule-test@example.com
   Emails match: N/A
   isBookingForCurrentUser: null
   Will create account: true
👥 Creating guest/new customer booking
🔄 Attempting stored procedure booking creation...
🔄 Stored procedure intentionally disabled - using fallback for vehicle creation
❌ Stored procedure error: {
  message: 'Stored procedure disabled - using fallback with vehicle creation'
}
🔄 Using fallback direct booking creation
🔍 Testing database connection...
✅ Database connection test passed
📋 Generated booking reference: L4D81290873XWGY (15 chars)
🚗 Available vehicle data: {
  vehicle_registration: 'RSC123',
  vehicle_make: 'Toyota',
  vehicle_model: 'Prius',
  vehicle_year: 2023,
  vehicle_color: 'Silver',
  vehicle_size: 'medium',
  vehicle_type: undefined,
  vehicle_special_requirements: undefined,
  user_id: null
}
🚗 Vehicle creation condition check: {
  hasRegistration: true,
  hasMake: true,
  hasModel: true,
  registrationValue: 'RSC123',
  makeValue: 'Toyota',
  modelValue: 'Prius',
  conditionMet: true
}
🚗 Creating vehicle before booking...
🔄 Creating new vehicle record...
✅ Vehicle created successfully: 2f58ca40-24f6-47b6-beef-9ac8e837a7d2
💾 Creating booking record with vehicle_id: 2f58ca40-24f6-47b6-beef-9ac8e837a7d2
💾 Full booking record: {
  "user_id": null,
  "vehicle_id": "2f58ca40-24f6-47b6-beef-9ac8e837a7d2",
  "slot_id": "2cbf2a78-18a7-4e32-bf2b-350733814e30",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "booking_reference": "L4D81290873XWGY",
  "customer_name": "Reschedule Test User",
  "customer_email": "reschedule-test@example.com",
  "customer_phone": "07123456789",
  "service_location": "123 Reschedule Test Street, London",
  "notes": "",
  "customer_instructions": "",
  "payment_method": "cash",
  "status": "confirmed",
  "service_price_pence": 6000,
  "total_price_pence": 6000,
  "created_at": "2025-07-13T04:34:51.028Z",
  "updated_at": "2025-07-13T04:34:51.028Z"
}
✅ Booking created successfully: {
  id: '46f36198-97d9-476b-98d3-a583edcae39c',
  booking_reference: 'L4D81290873XWGY',
  user_id: null,
  customer_email: 'reschedule-test@example.com',
  customer_name: 'Reschedule Test User',
  customer_phone: '07123456789',
  vehicle_id: '2f58ca40-24f6-47b6-beef-9ac8e837a7d2',
  service_id: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  slot_id: '2cbf2a78-18a7-4e32-bf2b-350733814e30',
  status: 'confirmed',
  payment_status: 'pending',
  payment_method: 'cash',
  service_price_pence: 6000,
  discount_pence: 0,
  total_price_pence: 6000,
  confirmed_at: null,
  completed_at: null,
  cancelled_at: null,
  cancellation_reason: null,
  notes: '',
  created_at: '2025-07-13T04:34:51.028+00:00',
  updated_at: '2025-07-13T04:34:51.028+00:00',
  customer_instructions: '',
  service_location: '123 Reschedule Test Street, London',
  original_slot_id: null,
  current_slot_id: null,
  booking_history: [],
  reschedule_count: 0,
  last_status_change: '2025-07-13T04:34:51.055671+00:00',
  status_change_reason: null,
  created_from_reschedule: false
}
🔍 Final account creation check:
   isBookingForCurrentUser: null
   customer_email: reschedule-test@example.com
   condition (!isBookingForCurrentUser && bookingData.customer_email): reschedule-test@example.com
👤 Creating account for new customer: reschedule-test@example.com
👤 Account creation conditions met: {
  isBookingForCurrentUser: null,
  hasEmail: true,
  email: 'reschedule-test@example.com'
}
🔍 Checking if user already exists...
🔐 Using REST API to create user...
✅ User created via REST API: 28697575-6f57-4cd3-b91f-339224440a98
✅ Created user details: {
  id: '28697575-6f57-4cd3-b91f-339224440a98',
  aud: 'authenticated',
  role: 'authenticated',
  email: 'reschedule-test@example.com',
  email_confirmed_at: '2025-07-13T04:34:51.307657697Z',
  phone: '',
  app_metadata: { provider: 'email', providers: [ 'email' ] },
  user_metadata: {
    created_via: 'booking_system',
    email_verified: true,
    name: 'Reschedule Test User',
    phone: '07123456789'
  },
  identities: [
    {
      identity_id: '718d62bc-d0a3-42f6-b28e-76df28858e30',
      id: '28697575-6f57-4cd3-b91f-339224440a98',
      user_id: '28697575-6f57-4cd3-b91f-339224440a98',
      identity_data: [Object],
      provider: 'email',
      last_sign_in_at: '2025-07-13T04:34:51.302509303Z',
      created_at: '2025-07-13T04:34:51.302562Z',
      updated_at: '2025-07-13T04:34:51.302562Z',
      email: 'reschedule-test@example.com'
    }
  ],
  created_at: '2025-07-13T04:34:51.297069Z',
  updated_at: '2025-07-13T04:34:51.308517Z',
  is_anonymous: false
}
✅ Auth user created: 28697575-6f57-4cd3-b91f-339224440a98
📋 Creating user profile in public.users table...
❌ User profile creation failed: {
  code: '23505',
  details: 'Key (id)=(28697575-6f57-4cd3-b91f-339224440a98) already exists.',
  hint: null,
  message: 'duplicate key value violates unique constraint "users_pkey"'
}
❌ Profile error details: {
  "code": "23505",
  "details": "Key (id)=(28697575-6f57-4cd3-b91f-339224440a98) already exists.",
  "hint": null,
  "message": "duplicate key value violates unique constraint \"users_pkey\""
}
✅ Vehicle creation completed earlier - vehicle_id: 2f58ca40-24f6-47b6-beef-9ac8e837a7d2

💰 REWARDING POINTS FOR BOOKING
------------------------------
🎁 Awarding reward points for booking completion
💰 Points calculation:
   - Service price: £60
   - Points from spending: 60
   - Completion bonus: 50
   - Total points to award: 110
✅ Reward transaction created successfully
✅ Reward points awarded successfully

📧 SENDING BOOKING CONFIRMATION EMAILS
----------------------------------------
📧 Preparing email data for booking: L4D81290873XWGY
📧 Email data prepared: {
  reference: 'L4D81290873XWGY',
  customer: 'Reschedule Test User',
  email: 'reschedule-test@example.com',
  vehicle: 'Toyota Prius',
  price: '£60.00'
}
📧 Sending booking confirmation email: { customer: 'Reschedule Test User', booking: 'L4D81290873XWGY' }
✅ Booking confirmation email triggered (async)

🎉 Booking creation completed successfully
📊 Final response data: {
  "booking_id": "46f36198-97d9-476b-98d3-a583edcae39c",
  "booking_reference": "L4D81290873XWGY",
  "status": "confirmed",
  "message": "Booking created and auth account set up (profile creation failed) and 110 reward points awarded",
  "account_created": true,
  "user_id": "28697575-6f57-4cd3-b91f-339224440a98",
  "points_awarded": 110,
  "new_tier": "bronze",
  "email_triggered": true
}
 ✓ Compiled /api/bookings/available-slots in 82ms (835 modules)
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-20',
  endDate: '2025-07-27',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: 'medium',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-20&date_end=2025-07-27&vehicle_size=medium'
}
No service found for ID: 6856143e-eb1d-4776-bf6b-3f6149f36901
🔍 Admin booking dashboard GET called
🔍 Fetching dashboard data with params: { admin_id: 'test', date_filter: '2025-07-13', status_filter: null }
📅 Found slots for date: 2025-07-13 0
✅ No slots found for date: 2025-07-13
📊 Email notification logged: {
  email: 'reschedule-test@example.com',
  type: 'booking_confirmation',
  subject: 'Booking Confirmed - Your Love4Detailing Service',
  booking: 'L4D81290873XWGY',
  timestamp: '2025-07-13T04:34:53.411Z'
}
✅ Booking confirmation emails sent successfully
✅ Booking confirmation email sent successfully: undefined
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
📱 Fetching notifications for user: c14dbb9f-fc80-488c-9435-a1af85855d53
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
❌ Error fetching notifications: {
  code: '42P01',
  details: null,
  hint: null,
  message: 'relation "public.notifications" does not exist'
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User statistics calculated successfully
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
 ✓ Compiled /dashboard in 100ms (828 modules)
 ✓ Compiled /api/user/bookings in 84ms (830 modules)
🔍 User bookings API called
🔍 User bookings API called
🔍 User bookings API called
🔍 User bookings API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
📊 Found 3 bookings for user
✅ Transformed 3 bookings for frontend
📊 Found 5 bookings for user
✅ Transformed 5 bookings for frontend
📊 Found 3 bookings for user
✅ Transformed 3 bookings for frontend
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 3,
  totalCount: 7
}
📊 Found 5 bookings for user
✅ Transformed 5 bookings for frontend
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 5,
  totalCount: 7
}
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 3,
  totalCount: 7
}
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 5,
  totalCount: 7
}
🔍 User bookings API called
🔍 User bookings API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
📊 Found 7 bookings for user
✅ Transformed 7 bookings for frontend
📊 Found 7 bookings for user
✅ Transformed 7 bookings for frontend
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 7,
  totalCount: 7
}
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 7,
  totalCount: 7
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-08-12',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?start_date=2025-07-13&end_date=2025-08-12'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-08-12',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?start_date=2025-07-13&end_date=2025-08-12'
}
No service found for ID: 6856143e-eb1d-4776-bf6b-3f6149f36901
No service found for ID: 6856143e-eb1d-4776-bf6b-3f6149f36901
 ✓ Compiled /api/user/profile in 82ms (782 modules)
 ✓ Compiled (784 modules)
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: 'medium',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&vehicle_size=medium'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: 'medium',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&vehicle_size=medium'
}
🔍 Admin services API called
🔍 Admin services API called
🔍 User profile API called
🔍 User profile API called
✅ Found 3 services
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Querying user profile...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Querying user profile...
✅ Found 3 services
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'medium',
  serviceId: 'b5c0cdd2-ac62-4664-89f2-4bd95032b41c',
  originalVehicleSize: 'medium',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&service_id=b5c0cdd2-ac62-4664-89f2-4bd95032b41c&vehicle_size=medium'
}
✅ Profile data fetched for user: d.dimpauls@gmail.com
✅ Profile data fetched for user: d.dimpauls@gmail.com
No service found for ID: 6856143e-eb1d-4776-bf6b-3f6149f36901
No service found for ID: 6856143e-eb1d-4776-bf6b-3f6149f36901
✅ Profile data transformed successfully
✅ Successfully fetched user profile with statistics
✅ Profile data transformed successfully
✅ Successfully fetched user profile with statistics
 ✓ Compiled /api/vehicles in 93ms (786 modules)
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'medium',
  serviceId: '97faa549-387e-4595-bd07-08ae605445d0',
  originalVehicleSize: 'medium',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&service_id=97faa549-387e-4595-bd07-08ae605445d0&vehicle_size=medium'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-06-30',
  endDate: '2025-07-30',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-06-30&date_end=2025-07-30&limit=200'
}
📋 Available slots API called with: {
  date: null,
  startDate: '2025-06-30',
  endDate: '2025-07-30',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-06-30&date_end=2025-07-30&limit=200'
}
No service found for ID: 6856143e-eb1d-4776-bf6b-3f6149f36901
No service found for ID: 6856143e-eb1d-4776-bf6b-3f6149f36901
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-17',
  endDate: '2025-07-17',
  vehicleSize: 'medium',
  serviceId: null,
  originalVehicleSize: null,
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-17&date_end=2025-07-17'
}
No service found for ID: 6856143e-eb1d-4776-bf6b-3f6149f36901
📋 Available slots API called with: {
  date: null,
  startDate: '2025-07-13',
  endDate: '2025-07-20',
  vehicleSize: 'extra_large',
  serviceId: '97faa549-387e-4595-bd07-08ae605445d0',
  originalVehicleSize: 'extra_large',
  url: 'http://localhost:3000/api/bookings/available-slots?date_start=2025-07-13&date_end=2025-07-20&service_id=97faa549-387e-4595-bd07-08ae605445d0&vehicle_size=extra_large'
}
 ✓ Compiled /api/postcode-distance in 88ms (788 modules)
 ✓ Compiled /api/rewards/discount in 89ms (790 modules)
💰 Discount calculation API called
✅ Discount calculated successfully
 ✓ Compiled /api/bookings/enhanced/create in 105ms (838 modules)
🚀 Booking creation API called
📝 Request body: {
  "bookingData": {
    "customer_email": "d.dimpauls@gmail.com",
    "customer_name": "Paul Evans",
    "customer_phone": "07512647532",
    "slot_id": "408c36f5-f85e-48fa-9051-8e5ba6ac0010",
    "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "vehicle_size": "extra_large",
    "service_address": "188 Bristol Road",
    "service_postcode": "",
    "travel_charge_pence": 0,
    "special_instructions": "",
    "vehicle_registration": "BD24NHL",
    "vehicle_make": "Audi",
    "vehicle_model": "R8",
    "vehicle_year": 2025,
    "vehicle_color": "",
    "vehicle_type": "car",
    "vehicle_special_requirements": "",
    "payment_method": "cash",
    "booking_source": "web",
    "created_via": "customer_booking_flow"
  }
}
📋 Booking data received: {
  "customer_email": "d.dimpauls@gmail.com",
  "customer_name": "Paul Evans",
  "customer_phone": "07512647532",
  "slot_id": "408c36f5-f85e-48fa-9051-8e5ba6ac0010",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "vehicle_size": "extra_large",
  "service_address": "188 Bristol Road",
  "service_postcode": "",
  "travel_charge_pence": 0,
  "special_instructions": "",
  "vehicle_registration": "BD24NHL",
  "vehicle_make": "Audi",
  "vehicle_model": "R8",
  "vehicle_year": 2025,
  "vehicle_color": "",
  "vehicle_type": "car",
  "vehicle_special_requirements": "",
  "payment_method": "cash",
  "booking_source": "web",
  "created_via": "customer_booking_flow"
}
🔍 Detailed vehicle data inspection: {
  'bookingData.vehicle_registration': 'BD24NHL',
  'bookingData.vehicle_make': 'Audi',
  'bookingData.vehicle_model': 'R8',
  'typeof vehicle_registration': 'string',
  'typeof vehicle_make': 'string',
  'typeof vehicle_model': 'string',
  'vehicle_registration length': 7,
  'vehicle_make length': 4,
  'vehicle_model length': 2
}
✅ All required fields present
🔐 Getting user session...
👤 Current user: d.dimpauls@gmail.com (5288a9a7-b617-44d3-ac4b-69e88b5aff35)
🔑 Creating service role client...
🔍 Account creation decision analysis:
   Current user session: d.dimpauls@gmail.com (5288a9a7-b617-44d3-ac4b-69e88b5aff35)
   Booking email: d.dimpauls@gmail.com
   Emails match: true
   isBookingForCurrentUser: true
   Will create account: false
🔗 Linking booking to current user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔄 Attempting stored procedure booking creation...
🔄 Stored procedure intentionally disabled - using fallback for vehicle creation
❌ Stored procedure error: {
  message: 'Stored procedure disabled - using fallback with vehicle creation'
}
🔄 Using fallback direct booking creation
🔍 Testing database connection...
✅ Database connection test passed
📋 Generated booking reference: L4D81376523PHSX (15 chars)
🚗 Available vehicle data: {
  vehicle_registration: 'BD24NHL',
  vehicle_make: 'Audi',
  vehicle_model: 'R8',
  vehicle_year: 2025,
  vehicle_color: '',
  vehicle_size: 'extra_large',
  vehicle_type: 'car',
  vehicle_special_requirements: '',
  user_id: '5288a9a7-b617-44d3-ac4b-69e88b5aff35'
}
🚗 Vehicle creation condition check: {
  hasRegistration: true,
  hasMake: true,
  hasModel: true,
  registrationValue: 'BD24NHL',
  makeValue: 'Audi',
  modelValue: 'R8',
  conditionMet: true
}
🚗 Creating vehicle before booking...
✅ Found existing vehicle: 102a7f19-b30a-468f-beb1-d77e088af106
💾 Creating booking record with vehicle_id: 102a7f19-b30a-468f-beb1-d77e088af106
💾 Full booking record: {
  "user_id": "5288a9a7-b617-44d3-ac4b-69e88b5aff35",
  "vehicle_id": "102a7f19-b30a-468f-beb1-d77e088af106",
  "slot_id": "408c36f5-f85e-48fa-9051-8e5ba6ac0010",
  "service_id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
  "booking_reference": "L4D81376523PHSX",
  "customer_name": "Paul Evans",
  "customer_email": "d.dimpauls@gmail.com",
  "customer_phone": "07512647532",
  "service_location": "188 Bristol Road",
  "notes": "",
  "customer_instructions": "",
  "payment_method": "cash",
  "status": "confirmed",
  "service_price_pence": 8500,
  "total_price_pence": 8500,
  "created_at": "2025-07-13T04:36:16.678Z",
  "updated_at": "2025-07-13T04:36:16.678Z"
}
✅ Booking created successfully: {
  id: '4e0720e1-9398-4b8a-af8e-9f28f0c29d70',
  booking_reference: 'L4D81376523PHSX',
  user_id: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  customer_email: 'd.dimpauls@gmail.com',
  customer_name: 'Paul Evans',
  customer_phone: '07512647532',
  vehicle_id: '102a7f19-b30a-468f-beb1-d77e088af106',
  service_id: '6856143e-eb1d-4776-bf6b-3f6149f36901',
  slot_id: '408c36f5-f85e-48fa-9051-8e5ba6ac0010',
  status: 'confirmed',
  payment_status: 'pending',
  payment_method: 'cash',
  service_price_pence: 8500,
  discount_pence: 0,
  total_price_pence: 8500,
  confirmed_at: null,
  completed_at: null,
  cancelled_at: null,
  cancellation_reason: null,
  notes: '',
  created_at: '2025-07-13T04:36:16.678+00:00',
  updated_at: '2025-07-13T04:36:16.678+00:00',
  customer_instructions: '',
  service_location: '188 Bristol Road',
  original_slot_id: null,
  current_slot_id: null,
  booking_history: [],
  reschedule_count: 0,
  last_status_change: '2025-07-13T04:36:16.718234+00:00',
  status_change_reason: null,
  created_from_reschedule: false
}
🔍 Final account creation check:
   isBookingForCurrentUser: true
   customer_email: d.dimpauls@gmail.com
   condition (!isBookingForCurrentUser && bookingData.customer_email): false
❌ Account creation skipped - conditions not met
❌ Debug values: {
  isBookingForCurrentUser: true,
  hasEmail: true,
  email: 'd.dimpauls@gmail.com',
  conditionMet: false
}
✅ Vehicle creation completed earlier - vehicle_id: 102a7f19-b30a-468f-beb1-d77e088af106

💰 REWARDING POINTS FOR BOOKING
------------------------------
🎁 Awarding reward points for booking completion
💰 Points calculation:
   - Service price: £85
   - Points from spending: 85
   - Completion bonus: 50
   - Total points to award: 135
✅ Reward transaction created successfully
✅ Reward points awarded successfully

📧 SENDING BOOKING CONFIRMATION EMAILS
----------------------------------------
📧 Preparing email data for booking: L4D81376523PHSX
📧 Email data prepared: {
  reference: 'L4D81376523PHSX',
  customer: 'Paul Evans',
  email: 'd.dimpauls@gmail.com',
  vehicle: 'Audi R8',
  price: '£85.00'
}
📧 Sending booking confirmation email: { customer: 'Paul Evans', booking: 'L4D81376523PHSX' }
✅ Booking confirmation email triggered (async)

🎉 Booking creation completed successfully
📊 Final response data: {
  "booking_id": "4e0720e1-9398-4b8a-af8e-9f28f0c29d70",
  "booking_reference": "L4D81376523PHSX",
  "status": "confirmed",
  "message": "Booking created successfully and 135 reward points awarded",
  "points_awarded": 135,
  "new_tier": "gold",
  "email_triggered": true
}
📊 Email notification logged: {
  email: 'd.dimpauls@gmail.com',
  type: 'booking_confirmation',
  subject: 'Booking Confirmed - Your Love4Detailing Service',
  booking: 'L4D81376523PHSX',
  timestamp: '2025-07-13T04:36:19.632Z'
}
✅ Booking confirmation emails sent successfully
✅ Booking confirmation email sent successfully: d61ccda6-7c42-46b9-a565-e1b1873507ea
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User statistics calculated successfully
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User statistics calculated successfully
🔍 User bookings API called
🔍 User bookings API called
🔍 User bookings API called
🔍 User bookings API called
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
📊 Found 5 bookings for user
✅ Transformed 5 bookings for frontend
📊 Found 5 bookings for user
✅ Transformed 5 bookings for frontend
Auth user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
📊 Found 3 bookings for user
✅ Transformed 3 bookings for frontend
📊 Found 3 bookings for user
✅ Transformed 3 bookings for frontend
🔍 User statistics API called
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 5,
  totalCount: 8
}
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 5,
  totalCount: 8
}
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 3,
  totalCount: 8
}
🔍 User statistics API called
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 3,
  totalCount: 8
}
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 User statistics API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
✅ User statistics calculated successfully
✅ User statistics calculated successfully
✅ User statistics calculated successfully
🔍 User bookings API called
🔍 User bookings API called
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
✅ User authenticated: 5288a9a7-b617-44d3-ac4b-69e88b5aff35 d.dimpauls@gmail.com
🔍 Fetching bookings for user: 5288a9a7-b617-44d3-ac4b-69e88b5aff35
🔍 Querying user bookings with vehicle data...
📊 Found 8 bookings for user
✅ Transformed 8 bookings for frontend
📊 Found 8 bookings for user
✅ Transformed 8 bookings for frontend
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 8,
  totalCount: 8
}
✅ Successfully fetched bookings: {
  userId: '5288a9a7-b617-44d3-ac4b-69e88b5aff35',
  bookingsCount: 8,
  totalCount: 8
}
 ✓ Compiled in 342ms (1288 modules)
 ✓ Compiled in 166ms (654 modules)
 ✓ Compiled in 366ms (1288 modules)
 ✓ Compiled in 233ms (1288 modules)
 ⨯ ./src/app/api/user/bookings/route.ts
Error: 
  [31mx[0m Expected ',', got 'service'
     ,-[[36;1;4m/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/src/app/api/user/bookings/route.ts[0m:133:1]
 [2m133[0m |         slotFound: hasSlotData // Track if we have actual slot data
 [2m134[0m |         
 [2m135[0m |         // Service details - use real service data
 [2m136[0m |         service: {
     : [31;1m        ^^^^^^^[0m
 [2m137[0m |           id: (booking as any).service_id || 'unknown',
 [2m138[0m |           name: 'Full Valet Service', // TODO: Get from services relationship
 [2m139[0m |           price: booking.total_price_pence || 0,
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/app/api/user/bookings/route.ts
 ⨯ ./src/app/api/user/bookings/route.ts
Error: 
  [31mx[0m Expected ',', got 'service'
     ,-[[36;1;4m/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/src/app/api/user/bookings/route.ts[0m:133:1]
 [2m133[0m |         slotFound: hasSlotData // Track if we have actual slot data
 [2m134[0m |         
 [2m135[0m |         // Service details - use real service data
 [2m136[0m |         service: {
     : [31;1m        ^^^^^^^[0m
 [2m137[0m |           id: (booking as any).service_id || 'unknown',
 [2m138[0m |           name: 'Full Valet Service', // TODO: Get from services relationship
 [2m139[0m |           price: booking.total_price_pence || 0,
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/app/api/user/bookings/route.ts
 ⨯ ./src/app/api/user/bookings/route.ts
Error: 
  [31mx[0m Expected ',', got 'service'
     ,-[[36;1;4m/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/src/app/api/user/bookings/route.ts[0m:133:1]
 [2m133[0m |         slotFound: hasSlotData // Track if we have actual slot data
 [2m134[0m |         
 [2m135[0m |         // Service details - use real service data
 [2m136[0m |         service: {
     : [31;1m        ^^^^^^^[0m
 [2m137[0m |           id: (booking as any).service_id || 'unknown',
 [2m138[0m |           name: 'Full Valet Service', // TODO: Get from services relationship
 [2m139[0m |           price: booking.total_price_pence || 0,
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/app/api/user/bookings/route.ts
 ○ Compiling /not-found ...
 ⨯ ./src/app/api/user/bookings/route.ts
Error: 
  [31mx[0m Expected ',', got 'service'
     ,-[[36;1;4m/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/src/app/api/user/bookings/route.ts[0m:133:1]
 [2m133[0m |         slotFound: hasSlotData // Track if we have actual slot data
 [2m134[0m |         
 [2m135[0m |         // Service details - use real service data
 [2m136[0m |         service: {
     : [31;1m        ^^^^^^^[0m
 [2m137[0m |           id: (booking as any).service_id || 'unknown',
 [2m138[0m |           name: 'Full Valet Service', // TODO: Get from services relationship
 [2m139[0m |           price: booking.total_price_pence || 0,
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/app/api/user/bookings/route.ts
 ⨯ ./src/app/api/user/bookings/route.ts
Error: 
  [31mx[0m Expected ',', got 'service'
     ,-[[36;1;4m/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/src/app/api/user/bookings/route.ts[0m:133:1]
 [2m133[0m |         slotFound: hasSlotData // Track if we have actual slot data
 [2m134[0m |         
 [2m135[0m |         // Service details - use real service data
 [2m136[0m |         service: {
     : [31;1m        ^^^^^^^[0m
 [2m137[0m |           id: (booking as any).service_id || 'unknown',
 [2m138[0m |           name: 'Full Valet Service', // TODO: Get from services relationship
 [2m139[0m |           price: booking.total_price_pence || 0,
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/app/api/user/bookings/route.ts
 ⚠ Fast Refresh had to perform a full reload. Read more: https://nextjs.org/docs/messages/fast-refresh-reload
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/.next/cache/webpack/client-development-fallback/0.pack.gz_' -> '/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/.next/cache/webpack/client-development-fallback/0.pack.gz'
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/.next/cache/webpack/client-development-fallback/0.pack.gz_' -> '/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/.next/cache/webpack/client-development-fallback/0.pack.gz'
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/.next/cache/webpack/client-development-fallback/0.pack.gz_' -> '/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/.next/cache/webpack/client-development-fallback/0.pack.gz'
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/.next/cache/webpack/client-development-fallback/0.pack.gz_' -> '/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/.next/cache/webpack/client-development-fallback/0.pack.gz'
 ✓ Compiled /_error in 311ms (1558 modules)
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
 ✓ Compiled /api/services in 150ms (797 modules)
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
 ✓ Compiled in 276ms (1574 modules)
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
 ✓ Compiled in 260ms (1572 modules)
 ✓ Compiled in 182ms (777 modules)
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🔍 Public services API called
🔍 Public services API called
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
🔍 Raw services from database: [
  {
    "id": "b5c0cdd2-ac62-4664-89f2-4bd95032b41c",
    "name": "Exterior Wash",
    "code": "OUT",
    "description": "Exterior wash and dry service - restore your vehicle's shine",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-12T13:49:16.427395+00:00",
    "service_pricing": [
      {
        "id": "475b73f7-b71a-447b-bded-522532d95b5d",
        "is_active": true,
        "price_pence": 2500,
        "vehicle_size": "small",
        "duration_minutes": 60
      },
      {
        "id": "7591319b-c3d4-4801-9f54-8425fdf60c0e",
        "is_active": true,
        "price_pence": 3500,
        "vehicle_size": "medium",
        "duration_minutes": 60
      },
      {
        "id": "0a58e225-297c-41b2-ba3a-3a19a122ee5c",
        "is_active": true,
        "price_pence": 4400,
        "vehicle_size": "large",
        "duration_minutes": 60
      },
      {
        "id": "6f09aadd-528d-4903-bd73-f04932e6cc0a",
        "is_active": true,
        "price_pence": 5500,
        "vehicle_size": "extra_large",
        "duration_minutes": 60
      }
    ]
  },
  {
    "id": "6856143e-eb1d-4776-bf6b-3f6149f36901",
    "name": "Full Valet",
    "code": "full_valet",
    "description": "Complete interior and exterior valet service",
    "base_duration_minutes": 60,
    "is_active": true,
    "created_at": "2025-07-07T20:22:00.403461+00:00",
    "service_pricing": [
      {
        "id": "96a5aec1-3d80-44b1-896a-215f6dd6ab5e",
        "is_active": true,
        "price_pence": 5000,
        "vehicle_size": "small",
        "duration_minutes": 90
      },
      {
        "id": "f1ad6687-a2fc-443b-8fa4-1beb97c8bf64",
        "is_active": true,
        "price_pence": 6000,
        "vehicle_size": "medium",
        "duration_minutes": 120
      },
      {
        "id": "4eadbbcd-1cc7-460b-a1d4-77cb4d17c0d2",
        "is_active": true,
        "price_pence": 7000,
        "vehicle_size": "large",
        "duration_minutes": 150
      },
      {
        "id": "9cbabfd3-62d0-4faf-a388-e4c11dfd4075",
        "is_active": true,
        "price_pence": 8500,
        "vehicle_size": "extra_large",
        "duration_minutes": 180
      }
    ]
  }
]
🔍 Services error: null
🔄 Starting transformation of 2 services
🔄 Transforming service 1: Exterior Wash
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Exterior Wash - £25.00 - £55.00
🔄 Transforming service 2: Full Valet
   - Pricing records: 4
   - Active pricing: 4
   - Transformed: Full Valet - £50.00 - £85.00
✅ Found 2 active services for public display
   - Exterior Wash: £25.00 - £55.00
   - Full Valet: £50.00 - £85.00
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
Auth user: undefined undefined
Auth error: AuthSessionMissingError: Auth session missing!
    at handleError (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:67:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1051:24
    at async SupabaseAuthClient._useSession (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:946:20)
    at async SupabaseAuthClient._getUser (/Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1041:20)
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1028:20
    at async /Users/paulevans/Documents/Studio work/Client work/LOVE4DETAILING [Zell]/love4detailing-v2/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:891:28 {
  __isAuthError: true,
  status: 400,
  code: undefined
}
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
🎯 Homepage: Rendering services section { servicesLoading: true, servicesCount: 0, services: [] }
[?25h
